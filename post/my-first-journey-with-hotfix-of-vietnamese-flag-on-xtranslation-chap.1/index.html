<!doctype html><html lang=en><head><meta charset=utf-8><title>My first journey with hotfix of Vietnamese flag on Xtranslation chap.1 |
Charlie Thao</title><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><link rel=alternate type=application/rss+xml href=https://whatisthaodoing.today/index.xml title="Charlie Thao"><link rel=icon type=image/png href=/img/favicon.png><meta name=twitter:card content="summary"><meta name=twitter:title content="My first journey with hotfix of Vietnamese flag on Xtranslation chap.1"><meta name=twitter:description content="Hotfix contribution from Xtranslation"></head><body><header class="header bg-header w-full text-sm flex items-center sticky top-0 z-20"><div class="header-wrap mx-auto flex items-center flex-auto px-4 w-full max-w-extreme"><div class="header-left mr-5 flex flex-none items-center"><a href=/ class="header-logo inline-block leading-none godo-tracking" data-event-category=Header data-event-action=Logo data-event-label=Click data-event-non-interaction=true><span class="text-2xl font-bold">Charlie Thao</span></a></div><nav class="header-center mainMenu relative flex items-center pr-5 flex-grow overflow-auto lg:overflow-visible"><ul itemscope itemtype=http://www.schema.org/SiteNavigationElement class="nav whitespace-no-wrap hidden lg:flex"><li itemprop=name class=ml-5><a itemprop=url href=/author/thao class="mainMenu-link godo-tracking hover:text-primary font-medium" data-event-category=Header data-event-action=Menu data-event-non-interaction=true>About me</a></li><li itemprop=name class=ml-5><a itemprop=url href=/tags/projects class="mainMenu-link godo-tracking hover:text-primary font-medium" data-event-category=Header data-event-action=Menu data-event-non-interaction=true>Projects</a></li><li itemprop=name class=ml-5><a itemprop=url href=/post class="mainMenu-link godo-tracking hover:text-primary font-medium active" data-event-category=Header data-event-action=Menu data-event-non-interaction=true>Blog</a></li><li class="dropdown is-hoverable ml-5 hidden"><a href=# class="mainMenu-link dropdown-trigger hover:text-primary font-medium"><span>More</span><svg class="icon is-small transform rotate-90"><use xlink:href="#icon-arrow-forward"/></svg></a><div class="dropdown-menu whitespace-normal"><div class=dropdown-content><div class=js-dropdown-menu></div><hr class=dropdown-divider><div class="js-social-media social-media social-media"><a href=https://github.com/acapela000 title=undefined class="hover:text-github p-2 inline-block" target=_blank rel="noopener noreferrer"><em class="fab fa-2x fa-github" data-fa-transform=shrink--6></em></a>
<a href=https://www.linkedin.com/in/truong-thao-98b647223/ title=undefined class="hover:text-linkedin p-2 inline-block" target=_blank rel="noopener noreferrer"><em class="fab fa-2x fa-linkedin" data-fa-transform=shrink--6></em></a></div></div></div></li></ul></nav><div class="header-right flex-none flex justify-end items-center u-menu-color"><a class="js-dark-mode button is-white items-center hidden mr-2 md:flex custom-control-input" aria-label="Dark and Light Mode"><em class="fas fa-adjust" data-fa-transform=shrink--6></em></a>
<a href=javascript:; aria-label="Toggle Search" class="js-modal-button hidden godo-tracking button is-white mr-2" data-target=modal-search aria-haspopup=true data-event-category=Header data-event-action=Search data-event-label=Click data-event-non-interaction=true><em class="fas fa-search" data-fa-transform=shrink--6></em></a><div class="js-menu-toggle menu-burger button is-white relative ml-2 lg:hidden"><span></span><span></span><span></span></div></div></div></header><div class="nav-mob fixed inset-0 pt-16 pb-5 bg-header h-screen z-10 w-full text-center lg:hidden"><div class="nav-mob-wrap absolute inset-0 top-16 py-5 overflow-auto flex justify-between flex-col"><div class="py-4 flex justify-center md:hidden buttons"><a class="js-dark-mode button is-white items-center mr-2 md:flex custom-control-input" aria-label="Dark and Light Mode"><em class="fas fa-adjust" data-fa-transform=shrink--6></em></a></div><div class=py-4><ul><li><a href=/author/thao class="block px-5 py-2 font-medium text-22 leading-tight">About me</a></li><li><a href=/tags/projects class="block px-5 py-2 font-medium text-22 leading-tight">Projects</a></li><li><a href=/post class="block px-5 py-2 font-medium text-22 leading-tight">Blog</a></li></ul></div><div class="js-social-media social-media nav-mob-social-media social-media is-inline py-4"><a href=https://github.com/acapela000 title=undefined class="hover:text-github p-2 inline-block" target=_blank rel="noopener noreferrer"><em class="fab fa-2x fa-github" data-fa-transform=shrink--6></em></a>
<a href=https://www.linkedin.com/in/truong-thao-98b647223/ title=undefined class="hover:text-linkedin p-2 inline-block" target=_blank rel="noopener noreferrer"><em class="fab fa-2x fa-linkedin" data-fa-transform=shrink--6></em></a></div></div></div><div class="post-header px-4 mx-auto max-w-740 relative z-3 pt-8"><div class=intro-header><div class=post-heading><div class="mb-3 text-gray-400 tracking-wider text-sm font-medium"><a title=github href=https://whatisthaodoing.today//tags/github/>GITHUB
</a>&nbsp;
<a title=coding href=https://whatisthaodoing.today//tags/coding/>CODING
</a>&nbsp;
<a title=hotfix href=https://whatisthaodoing.today//tags/hotfix/>HOTFIX
</a>&nbsp;
<a title="My first journey with hotfix" href=https://whatisthaodoing.today//tags/my-first-journey-with-hotfix/>MY FIRST JOURNEY WITH HOTFIX
</a>&nbsp;</div><h1 class="post-title text-32 md:text-4xl lg:text-44 text-title">My first journey with hotfix of Vietnamese flag on Xtranslation chap.1</h1><img class="mt-12 storySmall-img object-cover w-full h-48 blur-up lazyautosizes lazyloaded" src=https://blog.radware.com/wp-content/uploads/2021/06/AdobeStock_164909094-scaled.jpeg alt="My first journey with hotfix of Vietnamese flag on Xtranslation chap.1"><div class="meta hh flex items-center relative z-4 flex-auto leading-snug overflow-hidden"><ul class="hh-author flex flex-wrap flex-none mr-3"><li class="hh-author-item realtive"><span class="relative block avatar is-45x45"><a href=https://whatisthaodoing.today/author/thao/><img class="no-zoom absolute u-image block rounded-full" src="https://avatars.githubusercontent.com/u/106527693?v=4" alt="Go to the profile of Thao"></a></span></li></ul><div class="hh-right flex-auto overflow-hidden"><div class="hh-author-name text-sm noWrapWithEllipsis"><a href=https://whatisthaodoing.today/author/thao/>Thao</a></div><div class="hh-date flex items-center text-gray-500 text-sm">18 Mar 2023
<span class="bull mx-1">¬∑</span>
3 min read</div></div></div></div></div></div><div class="post-wrap max-w-1100 relative mx-auto"><div class="px-4 mx-auto max-w-740 relative" role=main><article class="article post-body" id=post-body><h2 id=how---when-i-found-the-hotfix>How - When I found the hotfix</h2><p>By chance, I attempted to use a browser with translation when I encountered an unknown word. My friend suggested a reliable tool, Xtranslation. Upon use, I noticed that the flag of the Vietnamese language was different from the usual flag displayed.</p><figure><img src=/hotfix-img/translate-flag.png width=60%></figure><figure><img src=/hotfix-img/flag-found-zoom.png width=50%></figure><p>Upon zooming in, I realized that the flag belonged to an island.</p><figure><img src=/hotfix-img/flag-zoom.png width=40%></figure><p>I then searched for the image on Google to determine which country or location the flag belonged to.</p><figure><img src=/hotfix-img/flag-search.png width=80%></figure><p>I learned that the flag belonged to the Virgin Islands in the United States. Consequently, I sought a way to change the flag by searching for the code related to Xtranslate and found out that it was an open-source application.</p><figure><img src=/hotfix-img/github-search.png width=70%></figure><figure><img src=/hotfix-img/flag-code-search.png width=50%></figure><div class=highlight><pre tabindex=0 class=chroma><code class=language-ts data-lang=ts><span class=line><span class=cl><span class=kr>const</span> <span class=nx>langIconFile</span> <span class=o>=</span> <span class=nx>langToFlagIconMap</span><span class=p>[</span><span class=nx>locale</span><span class=p>]</span> <span class=o>??</span> <span class=nx>locale</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=kr>require</span><span class=p>(</span><span class=sb>`flag-icons/flags/4x3/</span><span class=si>${</span><span class=nx>langIconFile</span><span class=si>}</span><span class=sb>.svg`</span><span class=p>);</span>
</span></span></code></pre></div><p>Afterwards, I searched for the library of flag icons.</p><figure><img src=/hotfix-img/flag-lib-search.png width=70%></figure><p>In the library, when I searched for the prefix <code>vi</code> and <code>viet</code>, I found these flags.
<a href=https://flagicons.lipis.dev/>Flag Icons</a></p><figure><img src=/hotfix-img/prefix-search.png width=50%></figure><figure><img src=/hotfix-img/flag-prefix-abb.png width=50%></figure><p>Continuing my search, I discovered the code related to the flags. Fortunately, the application was built using Typescript, and since I am currently studying it, I was able to understand the code.</p><p><a href=https://github.com/ixrock/XTranslate/blob/4ad4b0927417234ca3aa19b7e04a8a4e6378b512/src/components/select-language/select-language.tsx#L237>Link code from line 237</a></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-ts data-lang=ts><span class=line><span class=cl><span class=kr>export</span> <span class=kd>function</span> <span class=nx>getFlagIcon</span><span class=p>(</span><span class=nx>locale</span>: <span class=kt>string</span><span class=p>)</span><span class=o>:</span> <span class=kt>string</span> <span class=o>|</span> <span class=kc>undefined</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>try</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kr>const</span> <span class=nx>langIconFile</span> <span class=o>=</span> <span class=nx>langToFlagIconMap</span><span class=p>[</span><span class=nx>locale</span><span class=p>]</span> <span class=o>??</span> <span class=nx>locale</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=kr>require</span><span class=p>(</span><span class=sb>`flag-icons/flags/4x3/</span><span class=si>${</span><span class=nx>langIconFile</span><span class=si>}</span><span class=sb>.svg`</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span> <span class=k>catch</span> <span class=p>(</span><span class=nx>error</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=kc>undefined</span><span class=p>;</span> <span class=c1>// noop
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=p>}</span>
</span></span></code></pre></div><p>Therefore, the string we use to search for a flag, for example, <code>ce</code>, serves as the <code>key</code> in a map. It will return the corresponding value, in this case, <code>ph</code> which refers to the Philippines. The flag of that country will then be displayed.</p><p><a href=https://github.com/ixrock/XTranslate/blob/4ad4b0927417234ca3aa19b7e04a8a4e6378b512/src/components/select-language/select-language.tsx#L206>Link code from line 206</a></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-ts data-lang=ts><span class=line><span class=cl><span class=kr>export</span> <span class=kr>const</span> <span class=nx>langToFlagIconMap</span>: <span class=kt>Record</span><span class=p>&lt;</span><span class=nt>string</span><span class=err>,</span> <span class=na>string</span><span class=p>&gt;</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;sq&#34;</span><span class=o>:</span> <span class=s2>&#34;al&#34;</span><span class=p>,</span> <span class=c1>// Albanian
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=s2>&#34;hy&#34;</span><span class=o>:</span> <span class=s2>&#34;am&#34;</span><span class=p>,</span> <span class=c1>// Armenian
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=s2>&#34;ce&#34;</span><span class=o>:</span> <span class=s2>&#34;ph&#34;</span><span class=p>,</span> <span class=c1>// Cebuano (Philippines)
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=s2>&#34;bn&#34;</span><span class=o>:</span> <span class=s2>&#34;bd&#34;</span><span class=p>,</span> <span class=c1>// Bengali (Bangladesh)
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=s2>&#34;ny&#34;</span><span class=o>:</span> <span class=s2>&#34;mw&#34;</span><span class=p>,</span> <span class=c1>// Malawi, Zambia, Mozambique, Zimbabwe
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=s2>&#34;cs&#34;</span><span class=o>:</span> <span class=s2>&#34;cz&#34;</span><span class=p>,</span> <span class=c1>// Czech Republic
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=s2>&#34;da&#34;</span><span class=o>:</span> <span class=s2>&#34;dk&#34;</span><span class=p>,</span> <span class=c1>// Danish
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=s2>&#34;en&#34;</span><span class=o>:</span> <span class=s2>&#34;gb&#34;</span><span class=p>,</span> <span class=c1>// English
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=s2>&#34;el&#34;</span><span class=o>:</span> <span class=s2>&#34;gr&#34;</span><span class=p>,</span> <span class=c1>// Greek
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=s2>&#34;ka&#34;</span><span class=o>:</span> <span class=s2>&#34;ge&#34;</span><span class=p>,</span> <span class=c1>// Georgian
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=s2>&#34;ha&#34;</span><span class=o>:</span> <span class=s2>&#34;ne&#34;</span><span class=p>,</span> <span class=c1>// Hausa (West Africa)
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=s2>&#34;haw&#34;</span><span class=o>:</span> <span class=s2>&#34;hm&#34;</span><span class=p>,</span> <span class=c1>// Hawaiian
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=s2>&#34;hi&#34;</span><span class=o>:</span> <span class=s2>&#34;in&#34;</span><span class=p>,</span> <span class=c1>// Hindi (India)
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=s2>&#34;te&#34;</span><span class=o>:</span> <span class=s2>&#34;in&#34;</span><span class=p>,</span> <span class=c1>// Telugu (India)
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=s2>&#34;ur&#34;</span><span class=o>:</span> <span class=s2>&#34;pk&#34;</span><span class=p>,</span> <span class=c1>// Urdu (Pakistan)
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=s2>&#34;ja&#34;</span><span class=o>:</span> <span class=s2>&#34;jp&#34;</span><span class=p>,</span> <span class=c1>// Japanese
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=s2>&#34;ko&#34;</span><span class=o>:</span> <span class=s2>&#34;kr&#34;</span><span class=p>,</span> <span class=c1>// Korean
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=s2>&#34;lo&#34;</span><span class=o>:</span> <span class=s2>&#34;la&#34;</span><span class=p>,</span> <span class=c1>// Laos
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=s2>&#34;uk&#34;</span><span class=o>:</span> <span class=s2>&#34;ua&#34;</span><span class=p>,</span> <span class=c1>// Ukrainian
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=s2>&#34;fa&#34;</span><span class=o>:</span> <span class=s2>&#34;ir&#34;</span><span class=p>,</span> <span class=c1>// Iran (Persian)
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=s2>&#34;ku&#34;</span><span class=o>:</span> <span class=s2>&#34;iq&#34;</span><span class=p>,</span> <span class=c1>// Iraq, Kurdistan Region
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=s2>&#34;ma&#34;</span><span class=o>:</span> <span class=s2>&#34;nz&#34;</span><span class=p>,</span> <span class=c1>// Maori (New Zealand)
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=s2>&#34;sw&#34;</span><span class=o>:</span> <span class=s2>&#34;ke&#34;</span><span class=p>,</span> <span class=c1>// Swahili (Kenya, Rwanda, Tanzania, Uganda)
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=s2>&#34;zh-CN&#34;</span><span class=o>:</span> <span class=s2>&#34;cn&#34;</span><span class=p>,</span> <span class=c1>// Chinese (Simplified)
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=s2>&#34;zh-TW&#34;</span><span class=o>:</span> <span class=s2>&#34;tw&#34;</span><span class=p>,</span> <span class=c1>// Chinese (Taiwan)
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=s2>&#34;yo&#34;</span><span class=o>:</span> <span class=s2>&#34;ng&#34;</span><span class=p>,</span> <span class=c1>// Yoruba (Nigeria)
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=s2>&#34;zu&#34;</span><span class=o>:</span> <span class=s2>&#34;za&#34;</span><span class=p>,</span> <span class=c1>// Zulu (South Africa)
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=s2>&#34;xh&#34;</span><span class=o>:</span> <span class=s2>&#34;za&#34;</span><span class=p>,</span> <span class=c1>// Xhosa (South Africa)
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>};</span>
</span></span></code></pre></div><p>In case the country string <code>key</code> we are searching for is not included in the list of countries, the <code>locale</code> variable will revert to the default value of <code>locale</code>. The following code snippet demonstrates this behavior:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-ts data-lang=ts><span class=line><span class=cl><span class=nx>langToFlagIconMap</span><span class=p>[</span><span class=nx>locale</span><span class=p>]</span> <span class=o>??</span> <span class=nx>locale</span><span class=p>;</span>
</span></span></code></pre></div><p>As the list of countries above does not yet include <code>vi</code>, which represents the Vietnamese language in the translations list, the <code>locale</code> variable will default to <code>vi</code>. However, this conflicts with the flag icon for Virgin Islands, which also uses the <code>vi</code> code.</p><p>So how to contact the authorüòØ? how to change the flagüòß?To resolve this issue, it is necessary to reach out to the author of the code to request an update. In doing so, the flag icon for Vietnam can be added to the list of country codes, ensuring that it is correctly displayed when <code>vi</code> is used as the <code>locale</code>.
Many thank you for reading, and in my next chapter, I will share how I tackled this hotfixüòä.</p><button onclick=topFunction() id=backtotopButton>
<em class="fa fa-angle-up"></em></button>
<script>document.addEventListener("scroll",function(){document.body.scrollTop>50||document.documentElement.scrollTop>50?(document.getElementById("backtotopButton").style.opacity="1",document.getElementById("backtotopButton").style.transition="0.5s"):(document.getElementById("backtotopButton").style.opacity="0",document.getElementById("backtotopButton").style.transition="0.5s")});function topFunction(){document.body.scrollTop=0,document.documentElement.scrollTop=0}</script><div class="post-tags mb-8"><div class=buttons><a class="button is-light font-medium text-sm capitalize godo-tracking" href=https://whatisthaodoing.today//tags/github/>github
</a>&nbsp;
<a class="button is-light font-medium text-sm capitalize godo-tracking" href=https://whatisthaodoing.today//tags/coding/>coding
</a>&nbsp;
<a class="button is-light font-medium text-sm capitalize godo-tracking" href=https://whatisthaodoing.today//tags/hotfix/>hotfix
</a>&nbsp;
<a class="button is-light font-medium text-sm capitalize godo-tracking" href=https://whatisthaodoing.today//tags/my-first-journey-with-hotfix/>My first journey with hotfix
</a>&nbsp;</div></div></article><div class="prev-next pb-8"><hr class=my-10><div class="flex relative godo-tracking mb-8" data-event-category=Article data-event-action="Previous article" data-event-non-interaction=true><div class="prev-next-body pl-6 flex-auto"><a href=https://whatisthaodoing.today/post/my-first-hacking-challenge-sql-injection-chap.1/><div class="text-sm leading-none text-gray-500 mb-2 font-medium">Previous article</div><h2 class="prev-next-title text-title mb-2 text-xl md:text-22">My first hacking challenge: SQL Injection chap.1</h2><p class="prev-next-excerpt text-base text-gray-500 lineClamp-2 leading-snug"></p></a></div></div></div></div></div><footer class="footer-light py-10 lg:pt-16 text-center lg:text-left"><div class="mx-auto max-w-extreme px-4"><div class="flex flex-col lg:flex-row justify-between"><div class="footer-copy text-sm order-3 mt-8 flex-none lg:text-left lg:order-none lg:mt-0">&copy; 2023
<a href=https://whatisthaodoing.today/ class=link>Charlie Thao</a>.
All rights reserved.<div class="mt-2 text-xs">Design with <span class="icon animated infinite pulse">‚ù§Ô∏è</span>by
<a href=https://jorgechato.com/>@JorgeChato</a>.
<a href=https://github.com/jorgechato/hution>Hution</a> Theme.</div></div><div class="js-social-media social-media footer-social-media mt-8 flex-none lg:mt-0 is-inline"><div class="js-social-media social-media footer-social-media flex-none lg:mt-0 is-inline"><a href=https://github.com/acapela000 target=_blank class="hover:text-github p-2 inline-block" name=github><em class="fab fa-2x fa-github" data-fa-transform=shrink--6></em></a>
<a href=https://www.linkedin.com/in/truong-thao-98b647223/ target=_blank class="hover:text-linkedin p-2 inline-block" name=linkedin><em class="fab fa-2x fa-linkedin" data-fa-transform=shrink--6></em></a><style>:root{--ghost-accent-color:#2E5A88!important}</style><link rel=stylesheet href=https://whatisthaodoing.today//css/main.css><link rel=stylesheet href=https://whatisthaodoing.today//css/base.css><link rel=stylesheet href=https://whatisthaodoing.today//css/github.css><link rel=stylesheet href=https://whatisthaodoing.today//css/zooming.css><script>let darkMode=localStorage.getItem("theme");darkMode==="dark"&&document.documentElement.classList.add("dark")</script><script src=https://whatisthaodoing.today//js/main.js></script>
<script src=https://whatisthaodoing.today//js/zooming.min.js></script>
<script src=https://whatisthaodoing.today//js/fontawesome.all.min.js></script>
<script>document.addEventListener("DOMContentLoaded",function(){new Zooming({bgColor:"var(--bg)",bgOpacity:.5,scaleBase:.9}).listen("figure>img:not(.no-zoom)")})</script><script src=https://whatisthaodoing.today/custom.js></script><meta name=generator content="Hugo 0.111.3"></div></div></footer></body></html>