<!doctype html><html lang=en><head><meta charset=utf-8><title>My first application: Weather forecast |
Charlie Thao</title><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><link rel=alternate type=application/rss+xml href=https://whatisthaodoing.today/index.xml title="Charlie Thao"><link rel=icon type=image/png href=/img/favicon.png><meta name=twitter:card content="summary"><meta name=twitter:title content="My first application: Weather forecast"><meta name=twitter:description content="Web app to check weather forecast at a certain location"><script async src="https://www.googletagmanager.com/gtag/js?id=G-D3P4E875CK"></script>
<script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-D3P4E875CK",{anonymize_ip:!1})}</script></head><body><header class="header bg-header w-full text-sm flex items-center sticky top-0 z-20"><div class="header-wrap mx-auto flex items-center flex-auto px-4 w-full max-w-extreme"><div class="header-left mr-5 flex flex-none items-center"><a href=/ class="header-logo inline-block leading-none godo-tracking" data-event-category=Header data-event-action=Logo data-event-label=Click data-event-non-interaction=true><span class="text-2xl font-bold">Charlie Thao</span></a></div><nav class="header-center mainMenu relative flex items-center pr-5 flex-grow overflow-auto lg:overflow-visible"><ul itemscope itemtype=http://www.schema.org/SiteNavigationElement class="nav whitespace-no-wrap hidden lg:flex"><li itemprop=name class=ml-5><a itemprop=url href=http://github.whatisthaodoing.today/ class="mainMenu-link godo-tracking hover:text-primary font-medium" data-event-category=Header data-event-action=Menu data-event-non-interaction=true><em class="fab fa-2x fa-github" data-fa-transform=shrink--6></em></a></li><li itemprop=name class=ml-5><a itemprop=url href=http://linkedin.whatisthaodoing.today/ class="mainMenu-link godo-tracking hover:text-primary font-medium" data-event-category=Header data-event-action=Menu data-event-non-interaction=true><em class="fab fa-2x fa-linkedin" data-fa-transform=shrink--6></em></a></li><li itemprop=name class=ml-5><a itemprop=url href=/author/thao class="mainMenu-link godo-tracking hover:text-primary font-medium" data-event-category=Header data-event-action=Menu data-event-non-interaction=true>About me</a></li><li itemprop=name class=ml-5><a itemprop=url href=/tags/projects class="mainMenu-link godo-tracking hover:text-primary font-medium" data-event-category=Header data-event-action=Menu data-event-non-interaction=true>Projects</a></li><li itemprop=name class=ml-5><a itemprop=url href=/post class="mainMenu-link godo-tracking hover:text-primary font-medium active" data-event-category=Header data-event-action=Menu data-event-non-interaction=true>Blog</a></li><li class="dropdown is-hoverable ml-5 hidden"><a href=# class="mainMenu-link dropdown-trigger hover:text-primary font-medium"><span>More</span><svg class="icon is-small transform rotate-90"><use xlink:href="#icon-arrow-forward"/></svg></a><div class="dropdown-menu whitespace-normal"><div class=dropdown-content><div class=js-dropdown-menu></div><hr class=dropdown-divider><div class="js-social-media social-media social-media"><a href=http://github.whatisthaodoing.today/ title=undefined class="hover:text-github p-2 inline-block" target=_blank rel="noopener noreferrer"><em class="fab fa-2x fa-github" data-fa-transform=shrink--6></em></a>
<a href=http://linkedin.whatisthaodoing.today/ title=undefined class="hover:text-linkedin p-2 inline-block" target=_blank rel="noopener noreferrer"><em class="fab fa-2x fa-linkedin" data-fa-transform=shrink--6></em></a></div></div></div></li></ul></nav><div class="header-right flex-none flex justify-end items-center u-menu-color"><a class="js-dark-mode button is-white items-center hidden mr-2 md:flex custom-control-input" aria-label="Dark and Light Mode"><em class="fas fa-adjust" data-fa-transform=shrink--6></em></a>
<a href=javascript:; aria-label="Toggle Search" class="js-modal-button hidden godo-tracking button is-white mr-2" data-target=modal-search aria-haspopup=true data-event-category=Header data-event-action=Search data-event-label=Click data-event-non-interaction=true><em class="fas fa-search" data-fa-transform=shrink--6></em></a><div class="js-menu-toggle menu-burger button is-white relative ml-2 lg:hidden"><span></span><span></span><span></span></div></div></div></header><div class="nav-mob fixed inset-0 pt-16 pb-5 bg-header h-screen z-10 w-full text-center lg:hidden"><div class="nav-mob-wrap absolute inset-0 top-16 py-5 overflow-auto flex justify-between flex-col"><div class="py-4 flex justify-center md:hidden buttons"><a class="js-dark-mode button is-white items-center mr-2 md:flex custom-control-input" aria-label="Dark and Light Mode"><em class="fas fa-adjust" data-fa-transform=shrink--6></em></a></div><div class=py-4><ul><li><a href=http://github.whatisthaodoing.today/ class="block px-5 py-2 font-medium text-22 leading-tight"><em class="fab fa-2x fa-github" data-fa-transform=shrink--6></em></a></li><li><a href=http://linkedin.whatisthaodoing.today/ class="block px-5 py-2 font-medium text-22 leading-tight"><em class="fab fa-2x fa-linkedin" data-fa-transform=shrink--6></em></a></li><li><a href=/author/thao class="block px-5 py-2 font-medium text-22 leading-tight">About me</a></li><li><a href=/tags/projects class="block px-5 py-2 font-medium text-22 leading-tight">Projects</a></li><li><a href=/post class="block px-5 py-2 font-medium text-22 leading-tight">Blog</a></li></ul></div><div class="js-social-media social-media nav-mob-social-media social-media is-inline py-4"><a href=http://github.whatisthaodoing.today/ title=undefined class="hover:text-github p-2 inline-block" target=_blank rel="noopener noreferrer"><em class="fab fa-2x fa-github" data-fa-transform=shrink--6></em></a>
<a href=http://linkedin.whatisthaodoing.today/ title=undefined class="hover:text-linkedin p-2 inline-block" target=_blank rel="noopener noreferrer"><em class="fab fa-2x fa-linkedin" data-fa-transform=shrink--6></em></a></div></div></div><div class="post-header px-4 mx-auto max-w-740 relative z-3 pt-8"><div class=intro-header><div class=post-heading><div class="mb-3 text-gray-400 tracking-wider text-sm font-medium"><a title=projects href=https://whatisthaodoing.today//tags/projects/>PROJECTS
</a>&nbsp;
<a title="weather forecast" href=https://whatisthaodoing.today//tags/weather-forecast/>WEATHER FORECAST
</a>&nbsp;
<a title="My first APP" href=https://whatisthaodoing.today//tags/my-first-app/>MY FIRST APP
</a>&nbsp;</div><h1 class="post-title text-32 md:text-4xl lg:text-44 text-title"><span class=emoji>‚òÄÔ∏è ‚òÇÔ∏è ‚ùÑÔ∏è üçÉ ‚òÅÔ∏è</span>
My first application: Weather forecast</h1><img class="mt-12 storySmall-img object-cover w-full h-48 blur-up lazyautosizes lazyloaded" src=https://cdn.dribbble.com/users/2438406/screenshots/9064361/weatherapp_dribbble_darkmode_v2_2x_4x.png alt="My first application: Weather forecast"><div class="post-excerpt mt-6 text-22 text-gray-500"><p>Web app to check weather forecast at a certain location</p></div><div class="meta hh flex items-center relative z-4 flex-auto leading-snug overflow-hidden"><ul class="hh-author flex flex-wrap flex-none mr-3"><li class="hh-author-item realtive"><span class="relative block avatar is-45x45"><a href=https://whatisthaodoing.today/author/thao/><img class="no-zoom absolute u-image block rounded-full" src="https://avatars.githubusercontent.com/u/106527693?v=4" alt="Go to the profile of Thao"></a></span></li></ul><div class="hh-right flex-auto overflow-hidden"><div class="hh-author-name text-sm noWrapWithEllipsis"><a href=https://whatisthaodoing.today/author/thao/>Thao</a></div><div class="hh-date flex items-center text-gray-500 text-sm">18 Mar 2023
<span class="bull mx-1">¬∑</span>
16 min read</div></div></div></div></div></div><div class="post-wrap max-w-1100 relative mx-auto"><div class="px-4 mx-auto max-w-740 relative" role=main><article class="article post-body" id=post-body><h2>Table of content</h2><nav id=TableOfContents><ul><li><a href=#1-introduction>1. Introduction</a></li><li><a href=#2initializing-a-project>2.Initializing a project</a><ul><li><a href=#creating-spring-boot-app>Creating Spring Boot app</a></li><li><a href=#check-apis-status>Check API&rsquo;s status</a></li></ul></li><li><a href=#3back-end-development>3.Back-end development</a><ul><li><a href=#stage-1-installing-dependencies>Stage 1: Installing dependencies</a></li><li><a href=#stage-2-basic-model-controller-repository>Stage 2: Basic model, controller, repository</a></li><li><a href=#stage-3-configurate-swagger>Stage 3: Configurate Swagger</a></li><li><a href=#stage-4-add-mit-license>Stage 4: Add MIT License</a></li><li><a href=#stage-5-configurate-postgresql>Stage 5: Configurate PostgreSQL</a></li><li><a href=#stage->Stage ?</a></li></ul></li><li><a href=#4front-end-development>4.Front-end development</a></li><li><a href=#5testing---deployment>5.Testing - Deployment</a><ul><li><a href=#deploying-frontend>Deploying frontend</a></li><li><a href=#deploying-backend>Deploying backend</a></li></ul></li><li><a href=#6maintenance-and-updates-utilities>6.Maintenance and updates, utilities</a></li></ul></nav><h2 id=1-introduction>1. Introduction</h2><p><strong>The reason why <code>weather forecast application</code> ?</strong></p><p>Hi, I&rsquo;m a newcomer to the tech field and recently created my first personal project. As someone who is concerned about the weather, I decided to create a web application that provides users with up-to-date weather forecasts to help them prepare for their day.</p><p>To build my application, I used Spring Boot to create a RESTful API in Java, Docker to package my application and its dependencies, and PostgreSQL as my database. For the front-end, I used Next.js along with TypeScript and JavaScript, and used Tailwind for CSS styling.</p><p>Overall, I&rsquo;m really proud of the end result - a functional and user-friendly weather forecast application that utilizes a range of powerful and popular tools and technologies.</p><h2 id=2initializing-a-project>2.Initializing a project</h2><h3 id=creating-spring-boot-app>Creating Spring Boot app</h3><p>I used page <a href=https://start.spring.io/>start.spring.io</a> and I initialized my app with srpingboot.</p><figure><img src=/wf-app/springboot.png width=100%></figure><p>All the dependencies I chose from <code>ADD DEPENDENCIES</code> will be display on the right of the page.</p><figure><img src=/wf-app/springboot-page.png width=100%></figure><p>I used Java programming language so I chose <code>Gradle - Groovy</code> for the type of the project. Because
Gradle is a build automation tool that uses a Groovy-based DSL (Domain-Specific Language) or Kotlin as its build language. It is designed to be highly customizable and supports incremental builds, caching, and parallel execution. Gradle is a good choice for prefering a more flexible build system and wanting to work with a build tool that supports both Groovy and Kotlin.</p><p><em>Some brief about the difference between type of projects:</em></p><p><code>Gradle - Groovy</code>: which uses Gradle as the build tool and Groovy as the primary programming language. Groovy is a dynamic programming language that runs on the Java Virtual Machine (JVM). It is often used for scripting, automation, and testing, and has a syntax similar to Java.</p><p><code>Gradle - Kotlin</code>: which uses Gradle as the build tool and Kotlin as the primary programming language. Kotlin is a statically-typed programming language that also runs on the JVM. It is designed to be more concise and expressive than Java, while still maintaining full interoperability with Java code.</p><p><code>Maven</code>: is also a popular build tool for Java-based projects. Using Maven as the build tool, which is an older build automation tool compared to Gradle. Maven is XML-based project configuration file to manage dependencies, build steps, and other project-related settings, following a &ldquo;convention over configuration&rdquo; approach. This means that it has a set of pre-defined conventions and best practices to simplify the build process.</p><figure><img src=/wf-app/springboot-project-types.png width=100%></figure><p>There are lots of dependencies we can choose from the list. But at the time initializing the app, I only need <code>Spring wed</code> dependency so I chose it.</p><figure><img src=/wf-app/springboot-dependency.png width=100%></figure><p>I clicked on generate button and then I have an app written in Java. The good point about this site is that it automatically creates a folder in the place we want to store all the information/data base about the app.</p><figure><img src=/wf-app/springboot-generate.png width=100%></figure><p>I opened the project&rsquo;s folder in IntelliJ and went to <code>build.gradle</code> to check the dependency I chose and it will be:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=n>dependencies</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>	<span class=n>implementation</span> <span class=err>&#39;</span><span class=n>org</span><span class=o>.</span><span class=na>springframework</span><span class=o>.</span><span class=na>boot</span><span class=o>:</span><span class=n>spring</span><span class=o>-</span><span class=n>boot</span><span class=o>-</span><span class=n>starter</span><span class=o>-</span><span class=n>web</span><span class=err>&#39;</span>
</span></span><span class=line><span class=cl>	<span class=n>testImplementation</span> <span class=err>&#39;</span><span class=n>org</span><span class=o>.</span><span class=na>springframework</span><span class=o>.</span><span class=na>boot</span><span class=o>:</span><span class=n>spring</span><span class=o>-</span><span class=n>boot</span><span class=o>-</span><span class=n>starter</span><span class=o>-</span><span class=n>test</span><span class=err>&#39;</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></div><h3 id=check-apis-status>Check API&rsquo;s status</h3><p>What is API health check?</p><p>It is a Rest(ful) API endpoint that checks the API itself and all critical dependencies. API health check endpoint returns the check result as the response. Software, QA, and Dev-ops teams use this endpoint to monitor the health of an API using a monitoring tool like Testfully.
Following that at first I created <code>controller</code> call <code>Health-check</code>. I use this class to check the status of the <code>API</code>.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=nd>@RestController</span>
</span></span><span class=line><span class=cl><span class=kd>public</span> <span class=kd>class</span> <span class=nc>HealthCheck</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nd>@RequestMapping</span><span class=o>(</span><span class=n>value</span> <span class=o>=</span> <span class=s>&#34;/health-check&#34;</span><span class=o>,</span> <span class=n>method</span> <span class=o>=</span> <span class=n>RequestMethod</span><span class=o>.</span><span class=na>GET</span><span class=o>)</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=n>String</span> <span class=nf>checkSttOfAPI</span><span class=o>()</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=s>&#34;OK&#34;</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></div><p>If I run the url <code>localhost:8080</code> with the <code>endpoint</code> is the value <code>/health-check</code> I can check the api is working or not. If it works, it will return the message <code>OK</code>.</p><figure><img src=/wf-app/health-check-OK.png width=100%></figure><p>Or else, it returns <code>Can't get the method</code></p><figure><img src=/wf-app/.png width=100%></figure><p><a href=https://testfully.io/blog/api-health-check-monitoring/>More about health-check</a>
<a href=https://docs.cloudfoundry.org/devguide/deploy-apps/healthchecks.html>Reference: Health-check with Cloud Foundary</a></p><h2 id=3back-end-development>3.Back-end development</h2><p>After initialize the app successfully, I started to write the server-side code that powers my web app. Here at the <code>back-end</code> I&rsquo;ll choose a database to store my data, and write code to handle user authentication, server-side rendering, and any other functionality required by my app.</p><h3 id=stage-1-installing-dependencies>Stage 1: Installing dependencies</h3><p>In order to use annotation: <code>@JsonSerialize</code> and <code>@JsonDeserialize</code>, I installed the <code>jackson</code> dependency from <a href=https://mvnrepository.com/>maven repository</a>.</p><figure><img src=/wf-app/jackson-databind.png width=100%></figure><p>I chose the latest version <code>jackson '2.14.2'</code></p><figure><img src=/wf-app/jackson-version.png width=100%></figure><p>After downloaded with <code>Gradle (short)</code>(<a href>why gradle short?</a>), once again I went to check the dependency at <code>build.gradle</code>.</p><figure><img src=/wf-app/jackson-download.png width=100%></figure><p>In order to manage and easier to update the versions of any dependencies, I made a variable <code>jacksonVersion</code> for each of the dependency and pass the parameter <code>${jacksonVersion}</code>.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=n>var</span> <span class=n>jacksonVersion</span> <span class=o>=</span> <span class=s>&#34;2.14.2&#34;</span>
</span></span><span class=line><span class=cl><span class=n>var</span> <span class=n>swaggerVersion</span> <span class=o>=</span> <span class=s>&#34;3.0.0&#34;</span>
</span></span><span class=line><span class=cl><span class=n>var</span> <span class=n>lombokVersion</span> <span class=o>=</span> <span class=s>&#34;1.18.26&#34;</span>
</span></span><span class=line><span class=cl><span class=n>var</span> <span class=n>postgreSQLVersion</span> <span class=o>=</span> <span class=s>&#34;42.5.4&#34;</span>
</span></span></code></pre></div><p>So that when needed to update the version, I just need to update the variable. It helps me save more time to look for where the dependency locateüòè among lots of other dependenciesüò®üòì like below for example.</p><p><a href=https://github.com/acapela000/WeatherForecastAPI/blob/basic-sql/build.gradle>My github&rsquo;s link of dependencies</a></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=n>dependencies</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>	<span class=n>implementation</span> <span class=err>&#39;</span><span class=n>org</span><span class=o>.</span><span class=na>springframework</span><span class=o>.</span><span class=na>boot</span><span class=o>:</span><span class=n>spring</span><span class=o>-</span><span class=n>boot</span><span class=o>-</span><span class=n>starter</span><span class=o>-</span><span class=n>web</span><span class=err>&#39;</span>
</span></span><span class=line><span class=cl>	<span class=n>testImplementation</span> <span class=err>&#39;</span><span class=n>org</span><span class=o>.</span><span class=na>springframework</span><span class=o>.</span><span class=na>boot</span><span class=o>:</span><span class=n>spring</span><span class=o>-</span><span class=n>boot</span><span class=o>-</span><span class=n>starter</span><span class=o>-</span><span class=n>test</span><span class=err>&#39;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>	<span class=c1>// https://mvnrepository.com/artifact/com.fasterxml.jackson.core/jackson-databind
</span></span></span><span class=line><span class=cl><span class=c1></span>	<span class=c1>//to serialize and deserialize json
</span></span></span><span class=line><span class=cl><span class=c1></span>	<span class=n>implementation</span> <span class=s>&#34;com.fasterxml.jackson.core:jackson-databind:${jacksonVersion}&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>	<span class=c1>// https://mvnrepository.com/artifact/io.springfox/springfox-boot-starter
</span></span></span><span class=line><span class=cl><span class=c1></span>	<span class=n>implementation</span> <span class=s>&#34;io.springfox:springfox-boot-starter:${swaggerVersion}&#34;</span>
</span></span><span class=line><span class=cl>	<span class=c1>// https://mvnrepository.com/artifact/io.springfox/springfox-swagger-ui
</span></span></span><span class=line><span class=cl><span class=c1></span>	<span class=n>implementation</span> <span class=s>&#34;io.springfox:springfox-swagger-ui:${swaggerVersion}&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl> 	<span class=c1>//	implementation &#39;org.springframework.boot:spring-boot-starter-oauth2-resource-server&#39;
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl>	<span class=c1>// https://mvnrepository.com/artifact/org.projectlombok/lombok
</span></span></span><span class=line><span class=cl><span class=c1></span>	<span class=n>compileOnly</span> <span class=s>&#34;org.projectlombok:lombok:${lombokVersion}&#34;</span>
</span></span><span class=line><span class=cl>	<span class=n>annotationProcessor</span> <span class=s>&#34;org.projectlombok:lombok:${lombokVersion}&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>	<span class=c1>//to connect to database
</span></span></span><span class=line><span class=cl><span class=c1></span>	<span class=c1>// https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-data-jpa
</span></span></span><span class=line><span class=cl><span class=c1></span>	<span class=n>implementation</span> <span class=err>&#39;</span><span class=n>org</span><span class=o>.</span><span class=na>springframework</span><span class=o>.</span><span class=na>boot</span><span class=o>:</span><span class=n>spring</span><span class=o>-</span><span class=n>boot</span><span class=o>-</span><span class=n>starter</span><span class=o>-</span><span class=n>data</span><span class=o>-</span><span class=n>jpa</span><span class=err>&#39;</span>
</span></span><span class=line><span class=cl>	<span class=c1>// https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-data-rest
</span></span></span><span class=line><span class=cl><span class=c1></span>	<span class=n>implementation</span> <span class=err>&#39;</span><span class=n>org</span><span class=o>.</span><span class=na>springframework</span><span class=o>.</span><span class=na>boot</span><span class=o>:</span><span class=n>spring</span><span class=o>-</span><span class=n>boot</span><span class=o>-</span><span class=n>starter</span><span class=o>-</span><span class=n>data</span><span class=o>-</span><span class=n>rest</span><span class=err>&#39;</span>
</span></span><span class=line><span class=cl>	<span class=c1>// https://mvnrepository.com/artifact/org.postgresql/postgresql
</span></span></span><span class=line><span class=cl><span class=c1></span>	<span class=n>implementation</span> <span class=s>&#34;org.postgresql:postgresql:${postgreSQLVersion}&#34;</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></div><h3 id=stage-2-basic-model-controller-repository>Stage 2: Basic model, controller, repository</h3><ul><li>Create <code>model</code>: <code>WeatherForecast</code></li><li>Create <code>controller</code>: <code>GetForecast</code></li><li>Create <code>repository</code>: <code>Database</code> and <code>Memorydatabase</code></li></ul><figure><img src=/wf-app/structure-1.png width=50%></figure><p><strong>MODEL</strong></p><p><strong>WeatherForecast</strong></p><p>I made <code>model</code> called <code>WeatherForecast</code> with attributes: <code>temperature</code>, <code>humidity</code>, <code>precipitation</code>, <code>condition</code>, <code>city</code>, <code>date</code>. And following the rule of Java, I created <code>constructor</code> with <code>getter</code> and <code>setter</code>. I&rsquo;m using annotation <code>JsonSerialize</code> and <code>JsonProperty</code>.</p><ul><li><code>JsonSerialize</code>: to convert an object to stream that we can send over the network or save it as file or store in database for later usage (from Java object into Json format).</li><li><code>JsonDeserialize</code>: to reconstruct an object stream from the serialized form to actual Java object(from Json format into Java object).</li><li><code>JsonProperty</code>: be used to map property names with Json keys during serialization and deserialization.</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=c1>// https://github.com/acapela000/WeatherForecastAPI/blob/f7e5eeb8accad05c2a6df6d237fbf452031c467a/src/main/java/com/charlieThao/weather_forcast_demo/model/WeatherForecast.java
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=nd>@JsonSerialize</span>
</span></span><span class=line><span class=cl><span class=kd>public</span> <span class=kd>class</span> <span class=nc>WeatherForecast</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nd>@JsonProperty</span>
</span></span><span class=line><span class=cl>    <span class=kd>private</span> <span class=kt>double</span> <span class=n>temperature</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=nd>@JsonProperty</span>
</span></span><span class=line><span class=cl>    <span class=kd>private</span> <span class=kt>double</span> <span class=n>humidity</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=nd>@JsonProperty</span>
</span></span><span class=line><span class=cl>    <span class=kd>private</span> <span class=kt>boolean</span> <span class=n>precipitation</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=nd>@JsonProperty</span>
</span></span><span class=line><span class=cl>    <span class=kd>private</span> <span class=n>String</span> <span class=n>condition</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=nd>@JsonProperty</span>
</span></span><span class=line><span class=cl>    <span class=kd>private</span> <span class=n>String</span> <span class=n>city</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=nd>@JsonProperty</span>
</span></span><span class=line><span class=cl>    <span class=kd>private</span> <span class=n>Timestamp</span> <span class=n>date</span><span class=o>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=nf>WeatherForecast</span><span class=o>()</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=nf>WeatherForecast</span><span class=o>(</span><span class=kt>double</span> <span class=n>temperature</span><span class=o>,</span> <span class=kt>double</span> <span class=n>humidity</span><span class=o>,</span> <span class=kt>boolean</span> <span class=n>precipitation</span><span class=o>,</span> <span class=n>String</span> <span class=n>condition</span><span class=o>,</span> <span class=n>String</span> <span class=n>city</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=o>(</span><span class=n>temperature</span><span class=o>,</span> <span class=n>humidity</span><span class=o>,</span> <span class=n>precipitation</span><span class=o>,</span> <span class=n>condition</span><span class=o>,</span> <span class=n>city</span><span class=o>,</span> <span class=k>new</span> <span class=n>Timestamp</span><span class=o>(</span><span class=k>new</span> <span class=n>Date</span><span class=o>().</span><span class=na>getTime</span><span class=o>()));</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=nf>WeatherForecast</span><span class=o>(</span><span class=kt>double</span> <span class=n>temperature</span><span class=o>,</span> <span class=kt>double</span> <span class=n>humidity</span><span class=o>,</span> <span class=kt>boolean</span> <span class=n>precipitation</span><span class=o>,</span> <span class=n>String</span> <span class=n>condition</span><span class=o>,</span> <span class=n>String</span> <span class=n>city</span><span class=o>,</span> <span class=n>Timestamp</span> <span class=n>date</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=o>.</span><span class=na>temperature</span> <span class=o>=</span> <span class=n>temperature</span><span class=o>;</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=o>.</span><span class=na>humidity</span> <span class=o>=</span> <span class=n>humidity</span><span class=o>;</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=o>.</span><span class=na>precipitation</span> <span class=o>=</span> <span class=n>precipitation</span><span class=o>;</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=o>.</span><span class=na>condition</span> <span class=o>=</span> <span class=n>condition</span><span class=o>;</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=o>.</span><span class=na>city</span> <span class=o>=</span> <span class=n>city</span><span class=o>;</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=o>.</span><span class=na>date</span> <span class=o>=</span> <span class=n>date</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1>// getter &amp; setter
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=o>}</span>
</span></span></code></pre></div><p>Here, in the second <code>constructor</code> I use <code>new Timestamp(new Date().getTime())</code> to get the current date and time.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=kd>public</span> <span class=nf>WeatherForecast</span><span class=o>(</span><span class=kt>double</span> <span class=n>temperature</span><span class=o>,</span> <span class=kt>double</span> <span class=n>humidity</span><span class=o>,</span> <span class=kt>boolean</span> <span class=n>precipitation</span><span class=o>,</span> <span class=n>String</span> <span class=n>condition</span><span class=o>,</span> <span class=n>String</span> <span class=n>city</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=o>(</span><span class=n>temperature</span><span class=o>,</span> <span class=n>humidity</span><span class=o>,</span> <span class=n>precipitation</span><span class=o>,</span> <span class=n>condition</span><span class=o>,</span> <span class=n>city</span><span class=o>,</span> <span class=k>new</span> <span class=n>Timestamp</span><span class=o>(</span><span class=k>new</span> <span class=n>Date</span><span class=o>().</span><span class=na>getTime</span><span class=o>()));</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span></code></pre></div><p>And in the third constructor I pass all the attributes and set up the value for each attributes:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=kd>public</span> <span class=nf>WeatherForecast</span><span class=o>(</span><span class=kt>double</span> <span class=n>temperature</span><span class=o>,</span> <span class=kt>double</span> <span class=n>humidity</span><span class=o>,</span> <span class=kt>boolean</span> <span class=n>precipitation</span><span class=o>,</span> <span class=n>String</span> <span class=n>condition</span><span class=o>,</span> <span class=n>String</span> <span class=n>city</span><span class=o>,</span> <span class=n>Timestamp</span> <span class=n>date</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=o>.</span><span class=na>temperature</span> <span class=o>=</span> <span class=n>temperature</span><span class=o>;</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=o>.</span><span class=na>humidity</span> <span class=o>=</span> <span class=n>humidity</span><span class=o>;</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=o>.</span><span class=na>precipitation</span> <span class=o>=</span> <span class=n>precipitation</span><span class=o>;</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=o>.</span><span class=na>condition</span> <span class=o>=</span> <span class=n>condition</span><span class=o>;</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=o>.</span><span class=na>city</span> <span class=o>=</span> <span class=n>city</span><span class=o>;</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=o>.</span><span class=na>date</span> <span class=o>=</span> <span class=n>date</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span></code></pre></div><p><strong>CONTROLLER</strong></p><p>I created <code>GetForecast</code> class using annotation <code>@RestController</code> to specify this is <code>controller</code> and using <code>RequestMapping</code> to specify the <code>endpoint</code> by <code>/forecast</code>.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=nd>@RestController</span>
</span></span><span class=line><span class=cl><span class=nd>@RequestMapping</span><span class=o>(</span><span class=s>&#34;/forecast&#34;</span><span class=o>)</span>
</span></span><span class=line><span class=cl><span class=kd>public</span> <span class=kd>class</span> <span class=nc>GetForecast</span> <span class=o>{</span> 
</span></span><span class=line><span class=cl>    <span class=c1>// full code 
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=c1>// https://github.com/acapela000/WeatherForecastAPI/blob/f7e5eeb8accad05c2a6df6d237fbf452031c467a/src/main/java/com/charlieThao/weather_forcast_demo/controller/GetForecast.java
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=o>}</span>
</span></span></code></pre></div><p>Because class <code>MemoryDatabase</code> implement from interface <code>Database</code> so I created a new object of <code>MemoryDatabase</code> to connect with the database:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=n>Database</span> <span class=n>db</span> <span class=o>=</span> <span class=k>new</span> <span class=n>MemoryDatabase</span><span class=o>();</span>
</span></span></code></pre></div><p>Continously, using annotation <code>@RequestMapping</code> to specify the <code>endpoint</code> by <code>/today/{city}</code> with the method is <code>GET</code> and type of format is <code>JSON</code> through <code>produces</code>. The <code>url</code> at this time will be <code>http://localhost:3000/forcast/today/{city}</code>.</p><ul><li><code>@RequestMapping</code>: for mapping web requests onto methods in request-handling classes with flexible method signatures.</li><li><code>produces</code>: Narrows the primary mapping by media types that can be produced by the mapped handler.</li><li><code>value</code>: The primary mapping expressed by this annotation.</li></ul><p><a href=https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/bind/annotation/RequestMapping.html>More about Annotation Interface RequestMapping</a></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=nd>@RequestMapping</span> <span class=o>(</span>
</span></span><span class=line><span class=cl>            <span class=n>value</span> <span class=o>=</span> <span class=s>&#34;/today/{city}&#34;</span><span class=o>,</span>
</span></span><span class=line><span class=cl>            <span class=n>method</span> <span class=o>=</span> <span class=n>RequestMethod</span><span class=o>.</span><span class=na>GET</span><span class=o>,</span>
</span></span><span class=line><span class=cl>            <span class=n>produces</span> <span class=o>=</span> <span class=n>MediaType</span><span class=o>.</span><span class=na>APPLICATION_JSON_VALUE</span>
</span></span><span class=line><span class=cl>    <span class=o>)</span>
</span></span></code></pre></div><p>As you can see in the class, I&rsquo;m using <code>getToday</code> in order to get the weather forecast on that day. By passing the variable <code>city</code> to the endpoint. If the program can not find any <code>weatherForecast</code> on that day, means that it&rsquo;s <code>null</code> then the program will return <code>not found</code> through function <code>notFound()</code>. Else, it returns that <code>weatherForecast</code> through function <code>ok()</code>.</p><ul><li><code>ResponseEntity</code>: representing the whole HTTP response: status code, headers, and body. As a result, we can use it to fully configure the HTTP response.</li><li><code>notFound()</code>: Create a builder with a NOT_FOUND status.</li><li><code>ok(body)</code>: A shortcut for creating a ResponseEntity with the given body and the status set to OK.</li></ul><p><a href=https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/http/ResponseEntity.html>More about ResponseEntity</a></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=kd>public</span> <span class=n>ResponseEntity</span><span class=o>&lt;</span><span class=n>WeatherForecast</span><span class=o>&gt;</span> <span class=nf>getToday</span><span class=o>(</span><span class=nd>@PathVariable</span><span class=o>(</span><span class=s>&#34;city&#34;</span><span class=o>)</span> <span class=n>String</span> <span class=n>city</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=n>WeatherForecast</span> <span class=n>weatherForecast</span> <span class=o>=</span> <span class=n>db</span><span class=o>.</span><span class=na>getWF</span><span class=o>(</span><span class=n>city</span><span class=o>);</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=o>(</span><span class=n>weatherForecast</span> <span class=o>==</span> <span class=kc>null</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>            <span class=k>return</span> <span class=n>ResponseEntity</span><span class=o>.</span><span class=na>notFound</span><span class=o>().</span><span class=na>build</span><span class=o>();</span>
</span></span><span class=line><span class=cl>        <span class=o>}</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>ResponseEntity</span><span class=o>.</span><span class=na>ok</span><span class=o>(</span><span class=n>weatherForecast</span><span class=o>);</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span></code></pre></div><p>I&rsquo;m using annotation <code>@RequestMapping</code> to specify the <code>endpoint</code> by <code>/week/{city}</code> with the method is <code>GET</code> and type of format is <code>JSON</code> through <code>produces</code>. The <code>url</code> at this time will be <code>http://localhost:3000/forcast/week/{city}</code>.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=nd>@RequestMapping</span> <span class=o>(</span>
</span></span><span class=line><span class=cl>            <span class=n>value</span> <span class=o>=</span> <span class=s>&#34;/week/{city}&#34;</span><span class=o>,</span>
</span></span><span class=line><span class=cl>            <span class=n>method</span> <span class=o>=</span> <span class=n>RequestMethod</span><span class=o>.</span><span class=na>GET</span><span class=o>,</span>
</span></span><span class=line><span class=cl>            <span class=n>produces</span> <span class=o>=</span> <span class=n>MediaType</span><span class=o>.</span><span class=na>APPLICATION_JSON_VALUE</span><span class=o>)</span>
</span></span></code></pre></div><p>And then, I created a list of <code>forecast</code> by using <code>ResponseEntity&lt;List&lt;WeatherForecast>></code> for a <code>week</code> with function <code>getWeek</code>. With <code>@PathVariable</code>, I passed the varaiable <code>city</code> to the <code>url</code>. The method <code>getWeek</code> will return <code>null</code> when there is no weather forecast in a day being found.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl>    <span class=kd>public</span> <span class=n>ResponseEntity</span><span class=o>&lt;</span><span class=n>List</span><span class=o>&lt;</span><span class=n>WeatherForecast</span><span class=o>&gt;&gt;</span> <span class=nf>getWeek</span><span class=o>(</span><span class=nd>@PathVariable</span><span class=o>(</span><span class=s>&#34;city&#34;</span><span class=o>)</span> <span class=n>String</span> <span class=n>city</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=kc>null</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span></code></pre></div><p><strong>REPOSITORY</strong></p><p><strong>Database</strong></p><p>In order to let the other class implement the method, I created the interface <code>Database</code> with 4 abstract methods: <code>createWF</code>, <code>updateWF</code>, <code>getWF</code>, <code>deleteWF</code> (WF means Weather Forecast) and pass needed variable for each of it.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=c1>// https://github.com/acapela000/WeatherForecastAPI/blob/f7e5eeb8accad05c2a6df6d237fbf452031c467a/src/main/java/com/charlieThao/weather_forcast_demo/repository/Database.java
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=kd>public</span> <span class=kd>interface</span> <span class=nc>Database</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=kt>boolean</span> <span class=nf>createWF</span><span class=o>(</span><span class=n>String</span> <span class=n>city</span><span class=o>,</span> <span class=n>WeatherForecast</span> <span class=n>weatherForecast</span><span class=o>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=n>WeatherForecast</span> <span class=nf>updateWF</span><span class=o>(</span><span class=n>String</span> <span class=n>city</span><span class=o>,</span> <span class=n>WeatherForecast</span> <span class=n>wf</span><span class=o>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=n>WeatherForecast</span> <span class=nf>getWF</span><span class=o>(</span><span class=n>String</span> <span class=n>city</span><span class=o>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=kt>boolean</span> <span class=nf>deleteWF</span><span class=o>(</span><span class=n>String</span> <span class=n>city</span><span class=o>);</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></div><p><strong>MemoryDatabase</strong></p><p>I created some mock-data by using <code>hashmap</code> with the <code>key</code> is a <code>string</code> and the <code>value</code> is a <code>weather forecast</code>.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=kd>public</span> <span class=n>HashMap</span><span class=o>&lt;</span><span class=n>String</span><span class=o>,</span> <span class=n>WeatherForecast</span><span class=o>&gt;</span> <span class=n>weatherForecastList</span> <span class=o>=</span> <span class=k>new</span> <span class=n>HashMap</span><span class=o>&lt;</span><span class=n>String</span><span class=o>,</span> <span class=n>WeatherForecast</span><span class=o>&gt;()</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=o>{</span>
</span></span><span class=line><span class=cl>            <span class=n>put</span><span class=o>(</span><span class=s>&#34;New York&#34;</span><span class=o>,</span> <span class=k>new</span> <span class=n>WeatherForecast</span><span class=o>(</span><span class=mf>26.0</span><span class=o>,</span> <span class=mf>25.0</span><span class=o>,</span> <span class=kc>false</span><span class=o>,</span> <span class=s>&#34;cloudy&#34;</span><span class=o>,</span> <span class=s>&#34;New York&#34;</span><span class=o>));</span>
</span></span><span class=line><span class=cl>            <span class=n>put</span><span class=o>(</span><span class=s>&#34;Melbourn&#34;</span><span class=o>,</span> <span class=k>new</span> <span class=n>WeatherForecast</span><span class=o>(</span><span class=mf>29.0</span><span class=o>,</span> <span class=mf>20.0</span><span class=o>,</span> <span class=kc>true</span><span class=o>,</span> <span class=s>&#34;snowy&#34;</span><span class=o>,</span> <span class=s>&#34;Melbourn&#34;</span><span class=o>));</span>
</span></span><span class=line><span class=cl>        <span class=o>}</span>
</span></span><span class=line><span class=cl>    <span class=o>};</span>
</span></span></code></pre></div><p>The <code>MemoryDatabase</code> implement the <code>Database</code> so that it inherit all the method. I use annotation <code>@Override</code> to rewrite those methods as well as implement in details. The method <code>createWF</code> will return a <code>boolean</code> value <code>true</code> or <code>false</code>. If in the list <code>weatherForecastList</code> doesn&rsquo;t contain the <code>key</code> <code>city</code> that the we wanna create, it will put that <code>city</code> in the list and inform the user <code>true</code> or else <code>false</code>. For the <code>getWF</code> to display the list <code>weatherForecastList</code> by using function <code>get()</code> with the parameter <code>city</code>.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=kd>public</span> <span class=kd>class</span> <span class=nc>MemoryDatabase</span> <span class=kd>implements</span> <span class=n>Database</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nd>@Override</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=kt>boolean</span> <span class=nf>createWF</span><span class=o>(</span><span class=n>String</span> <span class=n>city</span><span class=o>,</span> <span class=n>WeatherForecast</span> <span class=n>wf</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>       <span class=k>if</span> <span class=o>(!</span><span class=n>weatherForecastList</span><span class=o>.</span><span class=na>containsKey</span><span class=o>(</span><span class=n>city</span><span class=o>))</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>           <span class=n>weatherForecastList</span><span class=o>.</span><span class=na>put</span><span class=o>(</span><span class=n>city</span><span class=o>,</span> <span class=n>wf</span><span class=o>);</span>
</span></span><span class=line><span class=cl>           <span class=k>return</span> <span class=kc>true</span><span class=o>;</span>
</span></span><span class=line><span class=cl>       <span class=o>}</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=kc>false</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nd>@Override</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=n>WeatherForecast</span> <span class=nf>getWF</span><span class=o>(</span><span class=n>String</span> <span class=n>city</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>weatherForecastList</span><span class=o>.</span><span class=na>get</span><span class=o>(</span><span class=n>city</span><span class=o>);</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1>// update and delete method
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=c1>// https://github.com/acapela000/WeatherForecastAPI/blob/f7e5eeb8accad05c2a6df6d237fbf452031c467a/src/main/java/com/charlieThao/weather_forcast_demo/repository/MemoryDatabase.java
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=o>}</span>
</span></span></code></pre></div><h3 id=stage-3-configurate-swagger>Stage 3: Configurate Swagger</h3><p><strong><a href>Why we need <code>Swagger</code>?</a></strong></p><p>Swagger helps users build, document, test and consume RESTful web services. It provides a user interface to access our RESTful web services via the web browser.</p><p>In order to use <code>Swagger</code>, I started to set up the dependency first.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=n>var</span> <span class=n>swaggerVersion</span> <span class=o>=</span> <span class=s>&#34;3.0.0&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>repositories</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>	<span class=c1>// https://mvnrepository.com/artifact/io.springfox/springfox-boot-starter
</span></span></span><span class=line><span class=cl><span class=c1></span>	<span class=n>implementation</span> <span class=s>&#34;io.springfox:springfox-boot-starter:${swaggerVersion}&#34;</span>
</span></span><span class=line><span class=cl>	<span class=c1>// https://mvnrepository.com/artifact/io.springfox/springfox-swagger-ui
</span></span></span><span class=line><span class=cl><span class=c1></span>	<span class=n>implementation</span> <span class=s>&#34;io.springfox:springfox-swagger-ui:${swaggerVersion}&#34;</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></div><p><strong>Configurate Swagger with the code</strong></p><p>I created class <code>SwaggerConfiguration</code> at <code>main/java...</code> to set up Swagger.</p><figure><img src=/wf-app/swagger-structure.png width=100%></figure><p><strong>Custom Information</strong></p><p>Swagger also provides some default values in its response, which we can customize, such as ‚ÄúApi Documentation‚Äù, ‚ÄúCreated by Contact Email‚Äù, and ‚ÄúApache 2.0‚Äù.</p><p>To change these values, we can use the apiInfo(ApiInfo apiInfo) method ‚Äî the ApiInfo class that contains custom information about the API:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=c1>// https://github.com/acapela000/WeatherForecastAPI/commit/82e648a11596856fa43a65bb41b9e66005ee5a6d
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=nd>@Configuration</span>
</span></span><span class=line><span class=cl><span class=nd>@EnableWebMvc</span>
</span></span><span class=line><span class=cl><span class=kd>public</span> <span class=kd>class</span> <span class=nc>SwaggerConfiguration</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=kd>private</span> <span class=n>ApiInfo</span> <span class=nf>getInfo</span><span class=o>()</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=k>new</span> <span class=n>ApiInfo</span><span class=o>(</span>
</span></span><span class=line><span class=cl>                <span class=s>&#34;WeatherForecastAPI&#34;</span><span class=o>,</span>
</span></span><span class=line><span class=cl>                <span class=s>&#34;This is the API for weather forecast&#34;</span><span class=o>,</span>
</span></span><span class=line><span class=cl>                <span class=s>&#34;0.0.1&#34;</span><span class=o>,</span>
</span></span><span class=line><span class=cl>                <span class=s>&#34; &#34;</span><span class=o>,</span>
</span></span><span class=line><span class=cl>                <span class=k>new</span> <span class=n>Contact</span><span class=o>(</span><span class=s>&#34;Charlie Thao&#34;</span><span class=o>,</span> <span class=s>&#34;https://github.com/acapela000/WeatherForecastAPI&#34;</span><span class=o>,</span> <span class=s>&#34;google@gmail.com&#34;</span><span class=o>),</span>
</span></span><span class=line><span class=cl>                <span class=s>&#34;MIT&#34;</span><span class=o>,</span>
</span></span><span class=line><span class=cl>                <span class=s>&#34;https://github.com/acapela000/WeatherForecastAPI/blob/main/LICENSE.md&#34;</span><span class=o>,</span>
</span></span><span class=line><span class=cl>                <span class=s>&#34;https://github.com/acapela000/WeatherForecastAPI/blob/master/LICENSE.md&#34;</span><span class=o>,</span>
</span></span><span class=line><span class=cl>                <span class=n>Collections</span><span class=o>.</span><span class=na>emptyList</span><span class=o>()</span>
</span></span><span class=line><span class=cl>        <span class=o>);</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></div><p><strong>Advanced Configuration</strong></p><p>The `Docket`` bean of our application can be configured to give us more control over the API documentation generation process.</p><p>Filtering API for Swagger‚Äôs Response:</p><p>It is not always desirable to expose the documentation for the entire API. We can restrict Swagger‚Äôs response by passing parameters to the <code>apis()</code> and <code>paths()</code> methods of the <code>Docket</code> class.</p><p>As seen above, RequestHandlerSelectors allows using the any or none predicates but can also be used to filter the API according to the base package, class annotation, and method annotations.</p><p><code>PathSelectors</code> provides additional filtering with predicates, which scan the request paths of our application. We can use <code>any()</code>, <code>none()</code>, <code>regex()</code>, or <code>ant()</code>.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=nd>@Bean</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=n>Docket</span> <span class=nf>swaggerAPI</span><span class=o>()</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=k>new</span> <span class=n>Docket</span><span class=o>(</span><span class=n>DocumentationType</span><span class=o>.</span><span class=na>OAS_30</span><span class=o>)</span>
</span></span><span class=line><span class=cl>                <span class=o>.</span><span class=na>apiInfo</span><span class=o>(</span><span class=n>getInfo</span><span class=o>())</span>
</span></span><span class=line><span class=cl>                <span class=o>.</span><span class=na>select</span><span class=o>()</span>
</span></span><span class=line><span class=cl>                <span class=o>.</span><span class=na>apis</span><span class=o>(</span><span class=n>RequestHandlerSelectors</span><span class=o>.</span><span class=na>any</span><span class=o>())</span>
</span></span><span class=line><span class=cl>                <span class=o>.</span><span class=na>paths</span><span class=o>(</span><span class=n>PathSelectors</span><span class=o>.</span><span class=na>any</span><span class=o>())</span>
</span></span><span class=line><span class=cl>                <span class=o>.</span><span class=na>build</span><span class=o>();</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span></code></pre></div><p>While set up Swagger I conpacted some error with the <code>url</code>. I tried some <code>url</code> below:</p><ul><li><code>http://localhost:8080/swagger-ui/index.html#/</code></li><li><code>http://localhost:8080/swagger-ui/</code></li></ul><p><a href=https://docs.bmc.com/docs/ars2105/troubleshooting-issues-when-using-swagger-as-a-rest-api-client-1002225210.html>References: Most common errors when setting up Swagger</a></p><h3 id=stage-4-add-mit-license>Stage 4: Add MIT License</h3><p><strong>Why need MIT License</strong></p><p>Users of software using an MIT License are permitted to use, copy, modify, merge publish, distribute, sublicense and sell copies of the software.</p><p><a href=https://opensource.org/license/mit/>More about MIT License</a></p><p><strong>Find official document on Github</strong></p><p>Google search for <code>MIT License Github</code>, choose the <code>documents</code></p><figure><img src=/wf-app/MIT-license-search.png width=100%></figure><p>Go to <code>chooselicense</code></p><figure><img src=/wf-app/MIT-license-docs.png width=100%></figure><p>and click to <code>MIT license</code></p><figure><img src=/wf-app/choose-MIT-license.png width=100%></figure><p>And then I copied the text and put my name on that.</p><p><a href=https://choosealicense.com/licenses/mit/>MIT License Text</a></p><figure><img src=/wf-app/MIT-license-text.png width=100%></figure><p><strong>Set up the MIT License with the code</strong></p><p>At the program, I created file <code>LICENSE.md</code> and pasted the editted text with my name on to that file.</p><figure><img src=/wf-app/license-md.png width=40%></figure><p>Then I went to Swagger to check how MIT License&rsquo;s information displayed.</p><figure><img src=/wf-app/MIT-swagger.png width=100%></figure><h3 id=stage-5-configurate-postgresql>Stage 5: Configurate PostgreSQL</h3><p><strong>User</strong></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=c1>// https://github.com/acapela000/WeatherForecastAPI/commit/57b18545a405de753f26c1e55e32a7a20626f2c4#diff-66e79c2cdb9217fa84b823cfa3cc4fc49329420dec99f0cdc25899108b9752a6
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=nd>@JsonSerialize</span>
</span></span><span class=line><span class=cl><span class=kd>public</span> <span class=kd>class</span> <span class=nc>User</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nd>@JsonProperty</span>
</span></span><span class=line><span class=cl>    <span class=kd>private</span> <span class=kt>boolean</span> <span class=n>isAdmin</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=nd>@JsonProperty</span>
</span></span><span class=line><span class=cl>    <span class=kd>private</span> <span class=n>String</span> <span class=n>userName</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=nd>@JsonProperty</span>
</span></span><span class=line><span class=cl>    <span class=kd>private</span> <span class=n>String</span> <span class=n>password</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=nd>@JsonProperty</span>
</span></span><span class=line><span class=cl>    <span class=kd>private</span> <span class=n>Date</span> <span class=n>dateOfBirth</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=nd>@JsonProperty</span>
</span></span><span class=line><span class=cl>    <span class=kd>private</span> <span class=n>String</span> <span class=n>email</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=nd>@JsonProperty</span>
</span></span><span class=line><span class=cl>    <span class=kd>private</span> <span class=n>String</span> <span class=n>phoneNumber</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=nd>@JsonProperty</span>
</span></span><span class=line><span class=cl>    <span class=kd>private</span> <span class=n>String</span> <span class=n>address</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=kd>private</span> <span class=n>String</span> <span class=n>idNumber</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=kd>private</span> <span class=n>String</span> <span class=n>idAccount</span><span class=o>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kd>private</span> <span class=kd>final</span> <span class=n>List</span><span class=o>&lt;</span><span class=n>WeatherForecast</span><span class=o>&gt;</span> <span class=n>weatherForecastList</span> <span class=o>=</span> <span class=k>new</span> <span class=n>ArrayList</span><span class=o>&lt;&gt;();</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=nf>User</span><span class=o>()</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=nf>User</span><span class=o>(</span>
</span></span><span class=line><span class=cl>        <span class=kt>boolean</span> <span class=n>isAdmin</span><span class=o>,</span> <span class=n>String</span> <span class=n>userName</span><span class=o>,</span> <span class=n>String</span> <span class=n>password</span><span class=o>,</span> <span class=n>Date</span> <span class=n>dateOfBirth</span><span class=o>,</span>
</span></span><span class=line><span class=cl>        <span class=n>String</span> <span class=n>email</span><span class=o>,</span> <span class=n>String</span> <span class=n>phoneNumber</span><span class=o>,</span> <span class=n>String</span> <span class=n>address</span><span class=o>,</span> <span class=n>String</span> <span class=n>idNumber</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>            <span class=kt>boolean</span> <span class=n>isAdmin</span><span class=o>,</span> <span class=n>String</span> <span class=n>userName</span><span class=o>,</span> <span class=n>String</span> <span class=n>password</span><span class=o>,</span> <span class=n>Date</span> <span class=n>dateOfBirth</span><span class=o>,</span>
</span></span><span class=line><span class=cl>            <span class=n>String</span> <span class=n>email</span><span class=o>,</span> <span class=n>String</span> <span class=n>phoneNumber</span><span class=o>,</span> <span class=n>String</span> <span class=n>address</span><span class=o>,</span> <span class=n>String</span> <span class=n>idNumber</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=o>.</span><span class=na>isAdmin</span> <span class=o>=</span> <span class=n>isAdmin</span><span class=o>;</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=o>.</span><span class=na>userName</span> <span class=o>=</span> <span class=n>userName</span><span class=o>;</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=o>.</span><span class=na>password</span> <span class=o>=</span> <span class=n>password</span><span class=o>;</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=o>.</span><span class=na>dateOfBirth</span> <span class=o>=</span> <span class=n>dateOfBirth</span><span class=o>;</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=o>.</span><span class=na>email</span> <span class=o>=</span> <span class=n>email</span><span class=o>;</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=o>.</span><span class=na>phoneNumber</span> <span class=o>=</span> <span class=n>phoneNumber</span><span class=o>;</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=o>.</span><span class=na>address</span> <span class=o>=</span> <span class=n>address</span><span class=o>;</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=o>.</span><span class=na>idNumber</span> <span class=o>=</span> <span class=n>idNumber</span><span class=o>;</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=o>.</span><span class=na>idAccount</span> <span class=o>=</span> <span class=n>idNumber</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=kt>boolean</span> <span class=nf>isAdmin</span><span class=o>()</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>isAdmin</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=kt>void</span> <span class=nf>setAdmin</span><span class=o>(</span><span class=kt>boolean</span> <span class=n>admin</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=n>isAdmin</span> <span class=o>=</span> <span class=n>admin</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=n>String</span> <span class=nf>getUserName</span><span class=o>()</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>userName</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=kt>void</span> <span class=nf>setUserName</span><span class=o>(</span><span class=n>String</span> <span class=n>userName</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=o>.</span><span class=na>userName</span> <span class=o>=</span> <span class=n>userName</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=n>String</span> <span class=nf>getPassword</span><span class=o>()</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>password</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=kt>void</span> <span class=nf>setPassword</span><span class=o>(</span><span class=n>String</span> <span class=n>password</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=o>.</span><span class=na>password</span> <span class=o>=</span> <span class=n>password</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl><span class=err>@@</span> <span class=o>-</span><span class=mi>69</span><span class=o>,</span><span class=mi>32</span> <span class=o>+</span><span class=mi>83</span><span class=o>,</span><span class=mi>32</span> <span class=err>@@</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>email</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=kt>void</span> <span class=nf>setEmail</span><span class=o>(</span><span class=n>String</span> <span class=n>email</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=o>.</span><span class=na>email</span> <span class=o>=</span> <span class=n>email</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=n>String</span> <span class=nf>getPhoneNumber</span><span class=o>()</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>phoneNumber</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=kt>void</span> <span class=nf>setPhoneNumber</span><span class=o>(</span><span class=n>String</span> <span class=n>phoneNumber</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=o>.</span><span class=na>phoneNumber</span> <span class=o>=</span> <span class=n>phoneNumber</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=n>String</span> <span class=nf>getAddress</span><span class=o>()</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>address</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=kt>void</span> <span class=nf>setAddress</span><span class=o>(</span><span class=n>String</span> <span class=n>address</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=o>.</span><span class=na>address</span> <span class=o>=</span> <span class=n>address</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=n>String</span> <span class=nf>getIdNumber</span><span class=o>()</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>idNumber</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=n>String</span> <span class=nf>getIdAccount</span><span class=o>()</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>idAccount</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=kt>void</span> <span class=nf>setIdNumber</span><span class=o>(</span><span class=n>String</span> <span class=n>idNumber</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=o>.</span><span class=na>idNumber</span> <span class=o>=</span> <span class=n>idNumber</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=kt>void</span> <span class=nf>setIdAccount</span><span class=o>(</span><span class=n>String</span> <span class=n>idAccount</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=o>.</span><span class=na>idAccount</span> <span class=o>=</span> <span class=n>idAccount</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=n>List</span><span class=o>&lt;</span><span class=n>WeatherForecast</span><span class=o>&gt;</span> <span class=nf>getWeatherForecastList</span><span class=o>()</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>weatherForecastList</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></div><p><strong>CONTROLLER</strong></p><p><strong>Forecast</strong></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=c1>// https://github.com/acapela000/WeatherForecastAPI/blob/basic-sql/src/main/java/com/charlieThao/weather_forcast_demo/controller/Forecast.java
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=nd>@RestController</span>
</span></span><span class=line><span class=cl><span class=nd>@RequestMapping</span><span class=o>(</span><span class=s>&#34;/forecast&#34;</span><span class=o>)</span>
</span></span><span class=line><span class=cl><span class=kd>public</span> <span class=kd>class</span> <span class=nc>Forecast</span> <span class=o>{</span>
</span></span><span class=line><span class=cl><span class=kd>private</span> <span class=n>WFDatabase</span> <span class=n>db</span> <span class=o>=</span> <span class=k>new</span> <span class=n>WFMemoryDatabase</span><span class=o>();</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nd>@RequestMapping</span> <span class=o>(</span>
</span></span><span class=line><span class=cl>            <span class=n>value</span> <span class=o>=</span> <span class=s>&#34;/today/{city}&#34;</span><span class=o>,</span>
</span></span><span class=line><span class=cl>            <span class=n>method</span> <span class=o>=</span> <span class=n>RequestMethod</span><span class=o>.</span><span class=na>GET</span><span class=o>,</span>
</span></span><span class=line><span class=cl>            <span class=n>produces</span> <span class=o>=</span> <span class=n>MediaType</span><span class=o>.</span><span class=na>APPLICATION_JSON_VALUE</span>
</span></span><span class=line><span class=cl>    <span class=o>)</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=n>ResponseEntity</span><span class=o>&lt;</span><span class=n>WeatherForecast</span><span class=o>&gt;</span> <span class=nf>getToday</span><span class=o>(</span><span class=nd>@PathVariable</span><span class=o>(</span><span class=s>&#34;city&#34;</span><span class=o>)</span> <span class=n>String</span> <span class=n>city</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=n>WeatherForecast</span> <span class=n>weatherForecast</span> <span class=o>=</span> <span class=n>db</span><span class=o>.</span><span class=na>getWF</span><span class=o>(</span><span class=n>city</span><span class=o>);</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=o>(</span><span class=n>weatherForecast</span> <span class=o>==</span> <span class=kc>null</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>            <span class=k>return</span> <span class=n>ResponseEntity</span><span class=o>.</span><span class=na>notFound</span><span class=o>().</span><span class=na>build</span><span class=o>();</span>
</span></span><span class=line><span class=cl>        <span class=o>}</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>ResponseEntity</span><span class=o>.</span><span class=na>ok</span><span class=o>(</span><span class=n>weatherForecast</span><span class=o>);</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nd>@RequestMapping</span> <span class=o>(</span>
</span></span><span class=line><span class=cl>            <span class=n>value</span> <span class=o>=</span> <span class=s>&#34;/week&#34;</span><span class=o>,</span>
</span></span><span class=line><span class=cl>            <span class=n>method</span> <span class=o>=</span> <span class=n>RequestMethod</span><span class=o>.</span><span class=na>GET</span><span class=o>,</span>
</span></span><span class=line><span class=cl>            <span class=n>produces</span> <span class=o>=</span> <span class=n>MediaType</span><span class=o>.</span><span class=na>APPLICATION_JSON_VALUE</span><span class=o>)</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=n>ResponseEntity</span><span class=o>&lt;</span><span class=n>List</span><span class=o>&lt;</span><span class=n>WeatherForecast</span><span class=o>&gt;&gt;</span> <span class=nf>getWeek</span><span class=o>()</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=n>List</span><span class=o>&lt;</span><span class=n>WeatherForecast</span><span class=o>&gt;</span> <span class=n>wfList</span> <span class=o>=</span> <span class=n>db</span><span class=o>.</span><span class=na>getListOfWF</span><span class=o>(</span><span class=s>&#34;&#34;</span><span class=o>,</span> <span class=mi>7</span><span class=o>);</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=o>(</span><span class=n>wfList</span><span class=o>.</span><span class=na>isEmpty</span><span class=o>())</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>            <span class=k>return</span> <span class=n>ResponseEntity</span><span class=o>.</span><span class=na>notFound</span><span class=o>().</span><span class=na>build</span><span class=o>();</span>
</span></span><span class=line><span class=cl>        <span class=o>}</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>ResponseEntity</span><span class=o>.</span><span class=na>ok</span><span class=o>(</span><span class=n>wfList</span><span class=o>);</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nd>@RequestMapping</span><span class=o>(</span>
</span></span><span class=line><span class=cl>            <span class=n>value</span> <span class=o>=</span> <span class=s>&#34;/{city}&#34;</span><span class=o>,</span>
</span></span><span class=line><span class=cl>            <span class=n>method</span> <span class=o>=</span> <span class=n>RequestMethod</span><span class=o>.</span><span class=na>DELETE</span><span class=o>,</span>
</span></span><span class=line><span class=cl>            <span class=n>produces</span> <span class=o>=</span> <span class=n>MediaType</span><span class=o>.</span><span class=na>APPLICATION_JSON_VALUE</span><span class=o>)</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=n>ResponseEntity</span><span class=o>&lt;</span><span class=n>ResponseMsg</span><span class=o>&gt;</span> <span class=nf>deleteWFToday</span><span class=o>(</span><span class=nd>@PathVariable</span><span class=o>(</span><span class=s>&#34;city&#34;</span><span class=o>)</span> <span class=n>String</span> <span class=n>city</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=kt>boolean</span> <span class=n>isDeleted</span> <span class=o>=</span> <span class=n>db</span><span class=o>.</span><span class=na>deleteWF</span><span class=o>(</span><span class=n>city</span><span class=o>);</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=o>(</span><span class=n>isDeleted</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>            <span class=k>return</span> <span class=n>ResponseEntity</span><span class=o>.</span><span class=na>ok</span><span class=o>(</span><span class=k>new</span> <span class=n>ResponseMsg</span><span class=o>(</span><span class=s>&#34;Delete successfully!&#34;</span><span class=o>));</span>
</span></span><span class=line><span class=cl>        <span class=o>}</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>ResponseEntity</span><span class=o>.</span><span class=na>notFound</span><span class=o>().</span><span class=na>build</span><span class=o>();</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nd>@RequestMapping</span><span class=o>(</span>
</span></span><span class=line><span class=cl>            <span class=n>value</span> <span class=o>=</span> <span class=s>&#34;/{city}&#34;</span><span class=o>,</span>
</span></span><span class=line><span class=cl>            <span class=n>method</span> <span class=o>=</span> <span class=n>RequestMethod</span><span class=o>.</span><span class=na>POST</span><span class=o>,</span>
</span></span><span class=line><span class=cl>            <span class=n>consumes</span> <span class=o>=</span> <span class=n>MediaType</span><span class=o>.</span><span class=na>APPLICATION_JSON_VALUE</span><span class=o>,</span>
</span></span><span class=line><span class=cl>            <span class=n>produces</span> <span class=o>=</span> <span class=n>MediaType</span><span class=o>.</span><span class=na>APPLICATION_JSON_VALUE</span>
</span></span><span class=line><span class=cl>    <span class=o>)</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=n>ResponseEntity</span><span class=o>&lt;</span><span class=n>ResponseMsg</span><span class=o>&gt;</span> <span class=nf>createWFToday</span><span class=o>(</span><span class=nd>@PathVariable</span><span class=o>(</span><span class=s>&#34;city&#34;</span><span class=o>)</span> <span class=n>String</span> <span class=n>city</span><span class=o>,</span>
</span></span><span class=line><span class=cl>                                                     <span class=nd>@RequestBody</span> <span class=n>WeatherForecast</span> <span class=n>wf</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=kt>boolean</span> <span class=n>created</span> <span class=o>=</span> <span class=n>db</span><span class=o>.</span><span class=na>createWF</span><span class=o>(</span><span class=n>city</span><span class=o>,</span> <span class=n>wf</span><span class=o>);</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=o>(</span><span class=n>created</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>            <span class=k>return</span> <span class=n>ResponseEntity</span><span class=o>.</span><span class=na>ok</span><span class=o>(</span><span class=k>new</span> <span class=n>ResponseMsg</span><span class=o>(</span><span class=s>&#34;Created successfully!&#34;</span><span class=o>));</span>
</span></span><span class=line><span class=cl>        <span class=o>}</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>ResponseEntity</span><span class=o>.</span><span class=na>badRequest</span><span class=o>().</span><span class=na>build</span><span class=o>();</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nd>@RequestMapping</span><span class=o>(</span>
</span></span><span class=line><span class=cl>            <span class=n>value</span> <span class=o>=</span> <span class=s>&#34;/{city}&#34;</span><span class=o>,</span>
</span></span><span class=line><span class=cl>            <span class=n>method</span> <span class=o>=</span> <span class=n>RequestMethod</span><span class=o>.</span><span class=na>PUT</span><span class=o>,</span>
</span></span><span class=line><span class=cl>            <span class=n>consumes</span> <span class=o>=</span> <span class=n>MediaType</span><span class=o>.</span><span class=na>APPLICATION_JSON_VALUE</span><span class=o>,</span>
</span></span><span class=line><span class=cl>            <span class=n>produces</span> <span class=o>=</span> <span class=n>MediaType</span><span class=o>.</span><span class=na>APPLICATION_JSON_VALUE</span>
</span></span><span class=line><span class=cl>    <span class=o>)</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=n>ResponseEntity</span><span class=o>&lt;</span><span class=n>WeatherForecast</span><span class=o>&gt;</span> <span class=nf>updateWFToday</span><span class=o>(</span><span class=nd>@PathVariable</span><span class=o>(</span><span class=s>&#34;city&#34;</span><span class=o>)</span> <span class=n>String</span> <span class=n>city</span><span class=o>,</span>
</span></span><span class=line><span class=cl>                                                         <span class=nd>@RequestBody</span> <span class=n>WeatherForecast</span> <span class=n>wf</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=n>WeatherForecast</span> <span class=n>weatherForecast</span> <span class=o>=</span> <span class=n>db</span><span class=o>.</span><span class=na>updateWF</span><span class=o>(</span><span class=n>city</span><span class=o>,</span> <span class=n>wf</span><span class=o>);</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=o>(</span><span class=n>weatherForecast</span> <span class=o>!=</span> <span class=kc>null</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>            <span class=k>return</span> <span class=n>ResponseEntity</span><span class=o>.</span><span class=na>ok</span><span class=o>(</span><span class=n>weatherForecast</span><span class=o>);</span>
</span></span><span class=line><span class=cl>        <span class=o>}</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>ResponseEntity</span><span class=o>.</span><span class=na>notFound</span><span class=o>().</span><span class=na>build</span><span class=o>();</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></div><p><strong>User</strong></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nd>@RestController</span>
</span></span><span class=line><span class=cl><span class=nd>@RequestMapping</span><span class=o>(</span><span class=s>&#34;/user&#34;</span><span class=o>)</span>
</span></span><span class=line><span class=cl><span class=kd>public</span> <span class=kd>class</span> <span class=nc>UserController</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>private</span> <span class=n>UserDatabaseInterface</span> <span class=n>userdb</span> <span class=o>=</span> <span class=k>new</span> <span class=n>UserMemoryDatabase</span><span class=o>();</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nd>@RequestMapping</span><span class=o>(</span>
</span></span><span class=line><span class=cl>        <span class=n>value</span> <span class=o>=</span> <span class=s>&#34;/create&#34;</span><span class=o>,</span>
</span></span><span class=line><span class=cl>        <span class=n>method</span> <span class=o>=</span> <span class=n>RequestMethod</span><span class=o>.</span><span class=na>POST</span><span class=o>,</span>
</span></span><span class=line><span class=cl>        <span class=n>consumes</span> <span class=o>=</span> <span class=n>MediaType</span><span class=o>.</span><span class=na>APPLICATION_JSON_VALUE</span><span class=o>,</span>
</span></span><span class=line><span class=cl>        <span class=n>produces</span> <span class=o>=</span> <span class=n>MediaType</span><span class=o>.</span><span class=na>APPLICATION_JSON_VALUE</span><span class=o>)</span>
</span></span><span class=line><span class=cl><span class=kd>public</span> <span class=n>ResponseEntity</span><span class=o>&lt;</span><span class=n>ResponseMsg</span><span class=o>&gt;</span> <span class=nf>createUserAcc</span><span class=o>(</span><span class=nd>@RequestBody</span> <span class=n>User</span> <span class=n>user</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=n>String</span> <span class=n>unique</span> <span class=o>=</span> <span class=n>UUID</span><span class=o>.</span><span class=na>randomUUID</span><span class=o>().</span><span class=na>toString</span><span class=o>();</span>
</span></span><span class=line><span class=cl>    <span class=n>user</span><span class=o>.</span><span class=na>setIdAccount</span><span class=o>(</span><span class=n>unique</span><span class=o>);</span>
</span></span><span class=line><span class=cl>    <span class=kt>boolean</span> <span class=n>created</span> <span class=o>=</span> <span class=n>userdb</span><span class=o>.</span><span class=na>creatUser</span><span class=o>(</span><span class=n>unique</span><span class=o>,</span> <span class=n>user</span><span class=o>);</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=o>(</span><span class=n>created</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>ResponseEntity</span><span class=o>.</span><span class=na>ok</span><span class=o>(</span><span class=k>new</span> <span class=n>ResponseMsg</span><span class=o>(</span><span class=s>&#34;User account is created successfully!&#34;</span><span class=o>));</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>ResponseEntity</span><span class=o>.</span><span class=na>notFound</span><span class=o>().</span><span class=na>build</span><span class=o>();</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nd>@RequestMapping</span><span class=o>(</span>
</span></span><span class=line><span class=cl>        <span class=n>value</span> <span class=o>=</span> <span class=s>&#34;/delete/{idAccount}&#34;</span><span class=o>,</span>
</span></span><span class=line><span class=cl>        <span class=n>method</span> <span class=o>=</span> <span class=n>RequestMethod</span><span class=o>.</span><span class=na>DELETE</span><span class=o>,</span>
</span></span><span class=line><span class=cl>        <span class=n>produces</span> <span class=o>=</span> <span class=n>MediaType</span><span class=o>.</span><span class=na>APPLICATION_JSON_VALUE</span><span class=o>)</span>
</span></span><span class=line><span class=cl><span class=kd>public</span> <span class=n>ResponseEntity</span><span class=o>&lt;</span><span class=n>ResponseMsg</span><span class=o>&gt;</span> <span class=nf>deleteUserAcc</span><span class=o>(</span><span class=nd>@PathVariable</span><span class=o>(</span><span class=s>&#34;idAccount&#34;</span><span class=o>)</span> <span class=n>String</span> <span class=n>idAccount</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=kt>boolean</span> <span class=n>deleted</span> <span class=o>=</span> <span class=n>userdb</span><span class=o>.</span><span class=na>deleteUser</span><span class=o>(</span><span class=n>idAccount</span><span class=o>);</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=o>(</span><span class=n>deleted</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>ResponseEntity</span><span class=o>.</span><span class=na>ok</span><span class=o>(</span><span class=k>new</span> <span class=n>ResponseMsg</span><span class=o>(</span><span class=s>&#34;Deleted successfully!&#34;</span><span class=o>));</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>ResponseEntity</span><span class=o>.</span><span class=na>notFound</span><span class=o>().</span><span class=na>build</span><span class=o>();</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nd>@RequestMapping</span><span class=o>(</span>
</span></span><span class=line><span class=cl>        <span class=n>value</span> <span class=o>=</span> <span class=s>&#34;/update/{idAccount}&#34;</span><span class=o>,</span>
</span></span><span class=line><span class=cl>        <span class=n>method</span> <span class=o>=</span> <span class=n>RequestMethod</span><span class=o>.</span><span class=na>PUT</span><span class=o>,</span>
</span></span><span class=line><span class=cl>        <span class=n>consumes</span> <span class=o>=</span> <span class=n>MediaType</span><span class=o>.</span><span class=na>APPLICATION_JSON_VALUE</span><span class=o>,</span>
</span></span><span class=line><span class=cl>        <span class=n>produces</span> <span class=o>=</span> <span class=n>MediaType</span><span class=o>.</span><span class=na>APPLICATION_JSON_VALUE</span><span class=o>)</span>
</span></span><span class=line><span class=cl><span class=kd>public</span> <span class=n>ResponseEntity</span><span class=o>&lt;</span><span class=n>User</span><span class=o>&gt;</span> <span class=nf>updateUserAcc</span><span class=o>(</span><span class=nd>@PathVariable</span> <span class=n>String</span> <span class=n>idAccount</span><span class=o>,</span> <span class=nd>@RequestBody</span> <span class=n>User</span> <span class=n>user</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=n>User</span> <span class=n>us</span> <span class=o>=</span> <span class=n>userdb</span><span class=o>.</span><span class=na>updateUser</span><span class=o>(</span><span class=n>idAccount</span><span class=o>,</span> <span class=n>user</span><span class=o>);</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=o>(</span><span class=n>us</span> <span class=o>!=</span> <span class=kc>null</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>ResponseEntity</span><span class=o>.</span><span class=na>ok</span><span class=o>(</span><span class=n>us</span><span class=o>);</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>ResponseEntity</span><span class=o>.</span><span class=na>badRequest</span><span class=o>().</span><span class=na>build</span><span class=o>();</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nd>@RequestMapping</span><span class=o>(</span>
</span></span><span class=line><span class=cl>        <span class=n>value</span> <span class=o>=</span> <span class=s>&#34;/{idAccount}&#34;</span><span class=o>,</span>
</span></span><span class=line><span class=cl>        <span class=n>method</span> <span class=o>=</span> <span class=n>RequestMethod</span><span class=o>.</span><span class=na>GET</span><span class=o>,</span>
</span></span><span class=line><span class=cl>        <span class=n>produces</span> <span class=o>=</span> <span class=n>MediaType</span><span class=o>.</span><span class=na>APPLICATION_JSON_VALUE</span><span class=o>)</span>
</span></span><span class=line><span class=cl><span class=kd>public</span> <span class=n>ResponseEntity</span><span class=o>&lt;</span><span class=n>User</span><span class=o>&gt;</span> <span class=nf>getUserAcc</span><span class=o>(</span><span class=nd>@PathVariable</span><span class=o>(</span><span class=s>&#34;idAccount&#34;</span><span class=o>)</span> <span class=n>String</span> <span class=n>idAccount</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=n>User</span> <span class=n>us</span> <span class=o>=</span> <span class=n>userdb</span><span class=o>.</span><span class=na>getUser</span><span class=o>(</span><span class=n>idAccount</span><span class=o>);</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=o>(</span><span class=n>us</span> <span class=o>!=</span> <span class=kc>null</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>ResponseEntity</span><span class=o>.</span><span class=na>ok</span><span class=o>(</span><span class=n>us</span><span class=o>);</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>ResponseEntity</span><span class=o>.</span><span class=na>notFound</span><span class=o>().</span><span class=na>build</span><span class=o>();</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nd>@RequestMapping</span><span class=o>(</span>
</span></span><span class=line><span class=cl>        <span class=n>value</span> <span class=o>=</span> <span class=s>&#34;/&#34;</span><span class=o>,</span>
</span></span><span class=line><span class=cl>        <span class=n>method</span> <span class=o>=</span> <span class=n>RequestMethod</span><span class=o>.</span><span class=na>GET</span><span class=o>,</span>
</span></span><span class=line><span class=cl>        <span class=n>produces</span> <span class=o>=</span> <span class=n>MediaType</span><span class=o>.</span><span class=na>APPLICATION_JSON_VALUE</span><span class=o>)</span>
</span></span><span class=line><span class=cl><span class=kd>public</span> <span class=n>ResponseEntity</span><span class=o>&lt;</span><span class=n>List</span><span class=o>&lt;</span><span class=n>User</span><span class=o>&gt;&gt;</span> <span class=nf>getAllUserAcc</span><span class=o>()</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>ResponseEntity</span><span class=o>.</span><span class=na>ok</span><span class=o>(</span><span class=n>userdb</span><span class=o>.</span><span class=na>getAllUser</span><span class=o>());</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></div><h3 id=stage->Stage ?</h3><p><strong>User</strong></p><p>At <code>user</code> <code>model</code>, I used annotation <code>@GeneratedValue</code> with <code>generator</code> <code>UUID</code> . and <code>@GenericGenerator</code> the <code>name</code> is also <code>UUID</code>, <code>strategy</code> is <code>org.hibernate.id.UUIDGenerator</code> means ???</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=nd>@GeneratedValue</span><span class=o>(</span><span class=n>generator</span> <span class=o>=</span> <span class=s>&#34;UUID&#34;</span><span class=o>)</span>
</span></span><span class=line><span class=cl><span class=nd>@GenericGenerator</span><span class=o>(</span><span class=n>name</span> <span class=o>=</span> <span class=s>&#34;UUID&#34;</span><span class=o>,</span> <span class=n>strategy</span> <span class=o>=</span> <span class=s>&#34;org.hibernate.id.UUIDGenerator&#34;</span><span class=o>)</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=c1>// https://github.com/acapela000/WeatherForecastAPI/blob/basic-sql/src/main/java/com/charlieThao/weather_forcast_demo/model/User.java
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=nd>@Entity</span>
</span></span><span class=line><span class=cl><span class=nd>@Table</span><span class=o>(</span><span class=n>name</span> <span class=o>=</span> <span class=s>&#34;tc_user&#34;</span><span class=o>)</span>
</span></span><span class=line><span class=cl><span class=kd>public</span> <span class=kd>class</span> <span class=nc>User</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nd>@Id</span>
</span></span><span class=line><span class=cl>    <span class=nd>@GeneratedValue</span><span class=o>(</span><span class=n>generator</span> <span class=o>=</span> <span class=s>&#34;UUID&#34;</span><span class=o>)</span>
</span></span><span class=line><span class=cl>    <span class=nd>@GenericGenerator</span><span class=o>(</span><span class=n>name</span> <span class=o>=</span> <span class=s>&#34;UUID&#34;</span><span class=o>,</span> <span class=n>strategy</span> <span class=o>=</span> <span class=s>&#34;org.hibernate.id.UUIDGenerator&#34;</span><span class=o>)</span>
</span></span><span class=line><span class=cl>    <span class=kd>private</span> <span class=n>String</span> <span class=n>id</span><span class=o>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nd>@Column</span><span class=o>(</span><span class=n>nullable</span> <span class=o>=</span> <span class=kc>false</span><span class=o>,</span> <span class=n>unique</span> <span class=o>=</span> <span class=kc>true</span><span class=o>)</span>
</span></span><span class=line><span class=cl>    <span class=kd>private</span> <span class=n>String</span> <span class=n>userName</span><span class=o>;</span><span class=c1>//&#34;unique&#34;
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl>    <span class=nd>@Column</span><span class=o>(</span><span class=n>nullable</span> <span class=o>=</span> <span class=kc>false</span><span class=o>,</span> <span class=n>unique</span> <span class=o>=</span> <span class=kc>true</span><span class=o>)</span>
</span></span><span class=line><span class=cl>    <span class=kd>private</span> <span class=n>String</span> <span class=n>email</span><span class=o>;</span><span class=c1>//&#34;unique&#34;
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl>    <span class=nd>@Column</span><span class=o>(</span><span class=n>nullable</span> <span class=o>=</span> <span class=kc>false</span><span class=o>)</span>
</span></span><span class=line><span class=cl>    <span class=kd>private</span> <span class=n>String</span> <span class=n>password</span><span class=o>;</span><span class=c1>//&#34;hashed&#34;
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl>    <span class=nd>@ManyToMany</span><span class=c1>//&#34;default to empty list&#34;
</span></span></span><span class=line><span class=cl><span class=c1>//    @Column(nullable = false)
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nd>@JoinTable</span><span class=o>(</span>
</span></span><span class=line><span class=cl>            <span class=n>name</span> <span class=o>=</span> <span class=s>&#34;tc_user_location&#34;</span><span class=o>,</span>
</span></span><span class=line><span class=cl>            <span class=n>joinColumns</span> <span class=o>=</span> <span class=nd>@JoinColumn</span><span class=o>(</span><span class=n>name</span> <span class=o>=</span> <span class=s>&#34;user_id&#34;</span><span class=o>),</span>
</span></span><span class=line><span class=cl>            <span class=n>inverseJoinColumns</span> <span class=o>=</span> <span class=nd>@JoinColumn</span><span class=o>(</span><span class=n>name</span> <span class=o>=</span> <span class=s>&#34;location_id&#34;</span><span class=o>))</span>
</span></span><span class=line><span class=cl>    <span class=kd>private</span> <span class=n>List</span><span class=o>&lt;</span><span class=n>Location</span><span class=o>&gt;</span> <span class=n>locationList</span> <span class=o>=</span> <span class=k>new</span> <span class=n>ArrayList</span><span class=o>&lt;&gt;();</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nd>@ManyToMany</span><span class=o>()</span><span class=c1>//&#34;default to Role with name &#39;guest&#39;&#34;
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nd>@Column</span><span class=o>(</span><span class=n>nullable</span> <span class=o>=</span> <span class=kc>false</span><span class=o>)</span>
</span></span><span class=line><span class=cl>    <span class=nd>@JoinTable</span><span class=o>(</span>
</span></span><span class=line><span class=cl>            <span class=n>name</span> <span class=o>=</span> <span class=s>&#34;tc_user_role&#34;</span><span class=o>,</span>
</span></span><span class=line><span class=cl>            <span class=n>joinColumns</span> <span class=o>=</span> <span class=nd>@JoinColumn</span><span class=o>(</span><span class=n>name</span> <span class=o>=</span> <span class=s>&#34;user_id&#34;</span><span class=o>),</span>
</span></span><span class=line><span class=cl>            <span class=n>inverseJoinColumns</span> <span class=o>=</span> <span class=nd>@JoinColumn</span><span class=o>(</span><span class=n>name</span> <span class=o>=</span> <span class=s>&#34;role_id&#34;</span><span class=o>))</span>
</span></span><span class=line><span class=cl>    <span class=kd>private</span> <span class=n>List</span><span class=o>&lt;</span><span class=n>Role</span><span class=o>&gt;</span> <span class=n>roleList</span> <span class=o>=</span> <span class=k>new</span> <span class=n>ArrayList</span><span class=o>&lt;&gt;();</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=nf>User</span><span class=o>(</span><span class=n>String</span> <span class=n>s</span><span class=o>,</span> <span class=n>String</span> <span class=n>nanami</span><span class=o>,</span> <span class=n>String</span> <span class=n>s1</span><span class=o>,</span> <span class=n>String</span> <span class=n>s2</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></div><p><code>ResponseEntity</code> is used in Spring MVC as the return value from an @Controller method.</p><p><a href=https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/http/ResponseEntity.html>ResponseEntity Docs</a></p><p><code>@Controller</code> and <code>@RequestMapping</code> annotations to define an HTTP endpoint for managing inventory items</p><p>what is the difference between gradle and gradle (short)</p><p>Before using Swagger, I reccommend using <code>Insomnia</code> to check for the status of local server.</p><p><a href=https://insomnia.rest/download>Download Insomnia for Windows</a></p><figure><img src=/wf-app/health-check-insomnia.png width=100%></figure><p>I create an <code>GET</code> method and send the url <code>http://localhost:8080/health-check</code>. Insomnia return the <code>200</code> status, means the api is working.</p><p>If it doesn&rsquo;t work, we need to first: check the internet connection, then check ???</p><p><strong>More content is uploading&mldr;</strong></p><h2 id=4front-end-development>4.Front-end development</h2><p>Once I alomost have the back-end code in place, I created the user interface for my web app. This involves designing the layout and visual elements for my app, I&rsquo;m using <code>TypeScript</code> to code fore frontend and render HTML as well as using <code>Tailwind</code> for css part. Besides that, I also use a front-end framework like NextJs to simplify the process.</p><p>Temporary layout for desktop&rsquo;s screen.</p><figure><img src=/wf-app/desktop-screen.png width=100%></figure><p>I also tested the screen for the phone in order to make <code>grid</code> better between desktop screen and phone&rsquo;s layout.</p><figure><img src=/wf-app/phone-screen-test.jpg width=80%></figure><p><strong>More content is uploading&mldr;</strong></p><h2 id=5testing---deployment>5.Testing - Deployment</h2><h3 id=deploying-frontend>Deploying frontend</h3><h3 id=deploying-backend>Deploying backend</h3><p>After finishing my web app, it&rsquo;s important to test it thoroughly to ensure it works as intended. This includes functional testing, integration testing, and performance testing. Once I almost have my backend code on place, I deploy my web app to a production environment.</p><p>As first, I attempted to deploy my application on <code>Heroku</code>.</p><figure><img src=/wf-app/heroku-register.png width=100%></figure><p>But I got a little bit stuck when I tried on installing it by using <code>choco</code> with <code>cmd</code> <code>choco install heroku</code>.</p><figure><img src=/wf-app/choco-heroku-failed.png width=100%></figure><p>Then I regconized that the cmd is not right. I read the docs again and try <code>choco install heroku-cli</code> and I made it. Successfully intalled <code>Heroku</code>.</p><p><a href=https://devcenter.heroku.com/articles/heroku-cli>Install Heroku Docs</a></p><figure><img src=/wf-app/choco-heroku-done-4over5.png width=100%></figure><p>Then when I tried to build <code>Docker Images</code> with <code>heroku.yml</code>, I met some bugs and got stuck again.</p><p><a href=https://devcenter.heroku.com/articles/build-docker-images-heroku-yml>Building Docker Images with heroku.yml</a></p><figure><img src=/wf-app/heroku-build-docker-img-err.png width=100%></figure><figure><img src=/wf-app/heroku-build-docker-img-bug.png width=100%></figure><p>Unbfornately, later than that, Heroku is officially not free anymore from the begining of April so I changed to use <code>Netlify</code>.</p><figure><img src=/wf-app/netlify-deploy.png width=100%></figure><p>After registered and upload the repository from <code>github</code>, I was waiting for my first time deploying backend code.</p><figure><img src=/wf-app/netlify-dp-waiting-1.png width=100%></figure><p>Finally, the deployment process is done and seem like the page is live. I was very excited at this time, can&rsquo;t wait to access into my onw site.</p><figure><img src=/wf-app/netlify-dp-waiting-2.png width=100%></figure><p>However, when I clicked on the deployed <code>url</code>, it turned to <code>Page not found</code></p><figure><img src=/wf-app/netlify-dp-pagenotfound.png width=100%></figure><p>I tried to follow the instruction from &ldquo;pagenotfound&rdquo; &ldquo;support guide&rdquo; but it still didn&rsquo;t work. Then I searched on google and found out the truth is:</p><p><a href=https://answers.netlify.com/t/how-to-deploy-springboot-app-in-netlify/18252>Netlify&rsquo;s answer</a></p><figure><img src=/wf-app/netlify-not-java.png width=100%></figure><p>After Heroku, Netlify, I searched for new source as Cloud Foundary. But it seems like complex to deploy then I tried to search for more free platform to deploy <code>Spring Boot</code>:</p><figure><img src=/wf-app/free-platform-deploy.png width=100%></figure><p>and I found one. I felt very happy and excited when I found <code>render</code> platform. It has lots of functions and easy to use.</p><p><a href=https://render.com/>More about Render</a></p><figure><img src=/wf-app/render-deploy.png width=100%></figure><p>Oh, but stop for a minute&mldr; the journey of deployment is officially start from now.</p><p><strong>More content is uploading&mldr;</strong></p><h2 id=6maintenance-and-updates-utilities>6.Maintenance and updates, utilities</h2><p>Once your web app is live, it&rsquo;s important to monitor its performance, fix any bugs that arise, and add new features as needed. You may also want to consider integrating analytics tools to track user behavior and improve the user experience over time.</p><p>Coding tool:</p><ul><li>IntelliJ</li><li>Visual studio code</li></ul><p><strong>More content is uploading&mldr;</strong></p><button onclick=topFunction() id=backtotopButton>
<em class="fa fa-angle-up"></em></button>
<script>document.addEventListener("scroll",function(){document.body.scrollTop>50||document.documentElement.scrollTop>50?(document.getElementById("backtotopButton").style.opacity="1",document.getElementById("backtotopButton").style.transition="0.5s"):(document.getElementById("backtotopButton").style.opacity="0",document.getElementById("backtotopButton").style.transition="0.5s")});function topFunction(){document.body.scrollTop=0,document.documentElement.scrollTop=0}</script><div class="post-tags mb-8"><div class=buttons><a class="button is-light font-medium text-sm capitalize godo-tracking" href=https://whatisthaodoing.today//tags/projects/>projects
</a>&nbsp;
<a class="button is-light font-medium text-sm capitalize godo-tracking" href=https://whatisthaodoing.today//tags/weather-forecast/>weather forecast
</a>&nbsp;
<a class="button is-light font-medium text-sm capitalize godo-tracking" href=https://whatisthaodoing.today//tags/my-first-app/>My first APP
</a>&nbsp;</div></div></article><div class="prev-next pb-8"><hr class=my-10><div class="flex relative godo-tracking mb-8" data-event-category=Article data-event-action="Previous article" data-event-non-interaction=true><div class="prev-next-body pl-6 flex-auto"><a href=https://whatisthaodoing.today/post/why-using-spring-boot-for-my-first-application/><div class="text-sm leading-none text-gray-500 mb-2 font-medium">Previous article</div><h2 class="prev-next-title text-title mb-2 text-xl md:text-22">Why using Spring Boot for my first application</h2><p class="prev-next-excerpt text-base text-gray-500 lineClamp-2 leading-snug">Beginning with numerous questions about the benefits of utilizing Spring Boot, I embarked on a journey to further comprehend the extensive and multifaceted capabilities of this versatile framework.</p></a></div></div><div class="flex relative godo-tracking" data-event-category=Article data-event-action="Next article" data-event-non-interaction=true><div class="prev-next-body pl-6 flex-auto"><a href=https://whatisthaodoing.today/post/my-1st-application-weather-forecast-chap.1-initializing-a-project/><div class="text-sm leading-none text-gray-500 mb-2 font-medium">Next article</div><h2 class="prev-next-title text-title mb-2 text-xl md:text-22">‚òÄÔ∏è ‚òÇÔ∏è ‚ùÑÔ∏è üçÉ
My 1st application 'Weather forecast' CHAP.1: Initializing a project</h2><p class="prev-next-excerpt text-base text-gray-500 lineClamp-2 leading-snug">The creation process of this weather forecast application began with initializing a project. This involved creating a Spring Boot application that provided a robust framework for developing a RESTful API. After setting up the project, the next step was to check the status of the API, which confirmed that the application was operational and ready for use. This meticulous and systematic approach to development ensured that the application was functional and responsive, allowing users to obtain up-to-date and accurate weather information at any given time.</p></a></div></div></div></div></div><footer class="footer-light py-10 lg:pt-16 text-center lg:text-left"><div class="mx-auto max-w-extreme px-4"><div class="flex flex-col lg:flex-row justify-between"><div class="footer-copy text-sm order-3 mt-8 flex-none lg:text-left lg:order-none lg:mt-0">&copy; 2023
<a href=https://whatisthaodoing.today/ class=link>Charlie Thao</a>.
All rights reserved.<div class="mt-2 text-xs">Design with <span class="icon animated infinite pulse">‚ù§Ô∏è</span>by
<a href=https://jorgechato.com/>@JorgeChato</a>.
<a href=https://github.com/jorgechato/hution>Hution</a> Theme.</div></div><div class="js-social-media social-media footer-social-media mt-8 flex-none lg:mt-0 is-inline"><div class="js-social-media social-media footer-social-media flex-none lg:mt-0 is-inline"><a href=http://github.whatisthaodoing.today/ target=_blank class="hover:text-github p-2 inline-block" name=github><em class="fab fa-2x fa-github" data-fa-transform=shrink--6></em></a>
<a href=http://linkedin.whatisthaodoing.today/ target=_blank class="hover:text-linkedin p-2 inline-block" name=linkedin><em class="fab fa-2x fa-linkedin" data-fa-transform=shrink--6></em></a><style>:root{--ghost-accent-color:#2E5A88!important}</style><link rel=stylesheet href=https://whatisthaodoing.today//css/main.css><link rel=stylesheet href=https://whatisthaodoing.today//css/base.css><link rel=stylesheet href=https://whatisthaodoing.today//css/github.css><link rel=stylesheet href=https://whatisthaodoing.today//css/zooming.css><link rel=stylesheet href=https://whatisthaodoing.today/code-style.css><script>let darkMode=localStorage.getItem("theme");darkMode==="dark"&&document.documentElement.classList.add("dark")</script><script src=https://whatisthaodoing.today//js/main.js></script>
<script src=https://whatisthaodoing.today//js/zooming.min.js></script>
<script src=https://whatisthaodoing.today//js/fontawesome.all.min.js></script>
<script>document.addEventListener("DOMContentLoaded",function(){new Zooming({bgColor:"var(--bg)",bgOpacity:.5,scaleBase:.9}).listen("figure>img:not(.no-zoom)")})</script><script src=https://whatisthaodoing.today/custom.js></script><meta name=generator content="Hugo 0.111.3"></div></div></footer></body></html>